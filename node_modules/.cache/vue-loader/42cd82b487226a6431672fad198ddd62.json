{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/ReturnGiftView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/ReturnGiftView.vue","mtime":1658952672383},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js","mtime":1649977089802}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBPVGV4dEZpZWxkIGZyb20gJ0AvY29tcG9uZW50cy9tb2xlY3VsZXMvT1RleHRGaWVsZC52dWUnCmltcG9ydCBBY3Rpb25CdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL2F0b21zL0FjdGlvbkJ1dHRvbi52dWUnCmltcG9ydCBPRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9hdG9tcy9PRGlhbG9nLnZ1ZScKaW1wb3J0IHsgdmFsaWRhdGVPcmRlcklkLCB2YWxpZGF0ZUVtYWlsLCB2YWxpZGF0ZVppcGNvZGUgfSBmcm9tICdAL3V0aWxzJwppbXBvcnQgeyBSRVRVUk5fQV9HSUZULCBaSVBfQ09ERV9MT09LVVAgfSBmcm9tICdicmFuZGluZy9zdHJpbmdzLmpzb24nCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyBGRVRDSF9PUkRFUiB9IGZyb20gJ0Avc3RvcmUvY29uc3RhbnRzLmpzJwppbXBvcnQgT1RleHQgZnJvbSAnQC9jb21wb25lbnRzL2F0b21zL09UZXh0LnZ1ZScKaW1wb3J0IEhlYWRlclRpdGxlIGZyb20gJ0AvY29tcG9uZW50cy9tb2xlY3VsZXMvSGVhZGVyVGl0bGUudnVlJwppbXBvcnQgeyBzZXRJc0dpZnQsIHNldEdpZnRFbWFpbCB9IGZyb20gJ0Avc3RvcmUvc2Vzc2lvblN0b3JhZ2UuanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHZpc2libGU6IEJvb2xlYW4KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE9UZXh0RmllbGQsCiAgICBBY3Rpb25CdXR0b24sCiAgICBPRGlhbG9nLAogICAgT1RleHQsCiAgICBIZWFkZXJUaXRsZQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlcklkOiAnJywKICAgICAgemlwQ29kZTogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgcmVFbnRlckVtYWlsOiAnJywKICAgICAgaXNEaXNhYmxlZDogdHJ1ZSwKICAgICAgZXJyb3JNZXNzYWdlOiAnJywKICAgICAgUkVUVVJOX0FfR0lGVDogUkVUVVJOX0FfR0lGVC5SRVRVUk5fQV9HSUZULAogICAgICBFTlRFUl9ZT1VSX09SREVSX0lEOiBSRVRVUk5fQV9HSUZULkVOVEVSX1lPVVJfT1JERVJfSUQsCiAgICAgIEVOVEVSX1lPVVJfWklQX0NPREU6IFJFVFVSTl9BX0dJRlQuRU5URVJfWU9VUl9aSVBfQ09ERSwKICAgICAgRU5URVJfRU1BSUxfQUREUkVTUzogUkVUVVJOX0FfR0lGVC5FTlRFUl9FTUFJTF9BRERSRVNTLAogICAgICBSRV9FTlRFUl9FTUFJTF9BRERSRVNTOiBSRVRVUk5fQV9HSUZULlJFX0VOVEVSX0VNQUlMX0FERFJFU1MsCiAgICAgIExPT0tVUF9PUkRFUjogWklQX0NPREVfTE9PS1VQLkxPT0tVUF9PUkRFUgogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBvcmRlcjogJ29yZGVyL29yZGVyJywKICAgICAgaXNMb2FkaW5nOiAnb3JkZXIvaXNMb2FkaW5nJwogICAgfSksCiAgICBzaG93OiB7CiAgICAgIGdldCAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmlzaWJsZQogICAgICB9LAogICAgICBzZXQgKHZhbHVlKSB7CiAgICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGUgKCkgewogICAgICB0aGlzLmlzRGlzYWJsZWQgPSAhKAogICAgICAgIHZhbGlkYXRlT3JkZXJJZCh0aGlzLm9yZGVySWQpICYmIHZhbGlkYXRlRW1haWwodGhpcy5lbWFpbCkgJiYgdmFsaWRhdGVaaXBjb2RlKHRoaXMuemlwQ29kZSkgJiYgdmFsaWRhdGVFbWFpbCh0aGlzLnJlRW50ZXJFbWFpbCkgJiYgdGhpcy5lbWFpbCA9PT0gdGhpcy5yZUVudGVyRW1haWwKICAgICAgKQogICAgfSwKICAgIG9uRW1haWxDaGFuZ2UgKGV2ZW50KSB7CiAgICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgIHRoaXMuZW1haWwgPSB2YWx1ZQogICAgICB0aGlzLnZhbGlkYXRlKCkKICAgIH0sCiAgICBvblJlbnRlckVtYWlsQ2hhbmdlIChldmVudCkgewogICAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICB0aGlzLnJlRW50ZXJFbWFpbCA9IHZhbHVlCiAgICAgIHRoaXMudmFsaWRhdGUoKQogICAgfSwKICAgIG9uWmlwQ29kZUNoYW5nZSAoZXZlbnQpIHsKICAgICAgY29uc3QgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUKICAgICAgdGhpcy56aXBDb2RlID0gdmFsdWUKICAgICAgdGhpcy52YWxpZGF0ZSgpCiAgICB9LAogICAgb25PcmRlckNoYW5nZSAoZXZlbnQpIHsKICAgICAgY29uc3QgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWUKICAgICAgdGhpcy5vcmRlcklkID0gdmFsdWUKICAgICAgdGhpcy52YWxpZGF0ZSgpCiAgICB9LAogICAgYXN5bmMgbG9va3VwT3JkZXIgKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VpL3VwZGF0ZU9yZGVySWQnLCB0aGlzLm9yZGVySWQpCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndWkvdXBkYXRlWmlwQ29kZScsIHRoaXMuemlwQ29kZSkKICAgICAgc2V0R2lmdEVtYWlsKHRoaXMuZW1haWwpCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBvcmRlcl9pZDogdGhpcy5vcmRlcklkLAogICAgICAgIHppcF9jb2RlOiB0aGlzLnppcENvZGUsCiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwKICAgICAgfQogICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaCgnb3JkZXIvJyArIEZFVENIX09SREVSLCBwYXJhbXMpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgY29uc3Qgb3JkZXJIYXNoID0KICAgICAgICAgICAgICByZXNwb25zZSAmJiByZXNwb25zZSAhPSBudWxsCiAgICAgICAgICAgICAgICA/IHJlc3BvbnNlLm9yZGVyX2hhc2gKICAgICAgICAgICAgICAgIDogdGhpcy5vcmRlci5vcmRlcklkCiAgICAgICAgICAgIHNldElzR2lmdCh0cnVlKQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL29yZGVycy8nICsgb3JkZXJIYXNoKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9vcmRlcmFuZHppcGNvZGUnKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coeyBlcnJvciB9KQogICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnT3JkZXIgbm90IGZvdW5kJwogICAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ReturnGiftView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReturnGiftView.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n  <o-dialog\n    :visible=\"show\"\n    :is-full-screen=\"false\"\n    width=\"450\"\n    @close=\"show = false\"\n  >\n    <v-form :class=\"{ 'px-2': $vuetify.breakpoint.mdAndUp }\">\n      <header-title\n        class=\"pb-4\"\n      >\n        {{ RETURN_A_GIFT }}\n      </header-title>\n      <h6\n        class=\"headingSubTitle\"\n        :class=\"{\n          'mb-3': $vuetify.breakpoint.smAndDown,\n          'mb-3': $vuetify.breakpoint.mdAndUp,\n        }\"\n      >\n        <strong>Help us find the order, </strong>please enter the orderID shown\n        on the receipt from your order.\n      </h6>\n      <o-text-field\n        :title=\"ENTER_YOUR_ORDER_ID\"\n        id=\"orderId\"\n        placeholder=\"Order ID\"\n        :class=\"{ 'mb-2': $vuetify.breakpoint.mdAndUp }\"\n        @onChange=\"onOrderChange($event)\"\n      />\n      <o-text-field\n        :title=\"ENTER_YOUR_ZIP_CODE\"\n        id=\"zipCode\"\n        placeholder=\"Zip Code\"\n        :class=\"{ 'mb-2': $vuetify.breakpoint.mdAndUp }\"\n        @onChange=\"onZipCodeChange($event)\"\n      />\n      <h6 class=\"headingSubTitle mb-3\">\n        <strong>Track your return, </strong>we will use only this address for\n        messages about your return\n      </h6>\n      <o-text-field\n        :title=\"ENTER_EMAIL_ADDRESS\"\n        id=\"email\"\n        placeholder=\"user@example.com\"\n        @onChange=\"onEmailChange($event)\"\n      />\n      <o-text-field\n        :title=\"RE_ENTER_EMAIL_ADDRESS\"\n        id=\"reEnterEmail\"\n        placeholder=\"user@example.com\"\n        @onChange=\"onRenterEmailChange($event)\"\n      />\n      <o-text\n        sm\n        bold\n        class=\"red--text\"\n      >\n        {{ this.errorMessage }}\n      </o-text>\n      <action-button\n        @click=\"lookupOrder\"\n        :disabled=\"isDisabled\"\n        class=\"mt-2\"\n        primary-color\n        :loading=\"isLoading\"\n        block\n        x-large\n      >\n        {{ LOOKUP_ORDER }}\n      </action-button>\n    </v-form>\n  </o-dialog>\n</template>\n\n<script>\nimport OTextField from '@/components/molecules/OTextField.vue'\nimport ActionButton from '@/components/atoms/ActionButton.vue'\nimport ODialog from '@/components/atoms/ODialog.vue'\nimport { validateOrderId, validateEmail, validateZipcode } from '@/utils'\nimport { RETURN_A_GIFT, ZIP_CODE_LOOKUP } from 'branding/strings.json'\nimport { mapGetters } from 'vuex'\nimport { FETCH_ORDER } from '@/store/constants.js'\nimport OText from '@/components/atoms/OText.vue'\nimport HeaderTitle from '@/components/molecules/HeaderTitle.vue'\nimport { setIsGift, setGiftEmail } from '@/store/sessionStorage.js'\n\nexport default {\n  props: {\n    visible: Boolean\n  },\n  components: {\n    OTextField,\n    ActionButton,\n    ODialog,\n    OText,\n    HeaderTitle\n  },\n  data () {\n    return {\n      orderId: '',\n      zipCode: '',\n      email: '',\n      reEnterEmail: '',\n      isDisabled: true,\n      errorMessage: '',\n      RETURN_A_GIFT: RETURN_A_GIFT.RETURN_A_GIFT,\n      ENTER_YOUR_ORDER_ID: RETURN_A_GIFT.ENTER_YOUR_ORDER_ID,\n      ENTER_YOUR_ZIP_CODE: RETURN_A_GIFT.ENTER_YOUR_ZIP_CODE,\n      ENTER_EMAIL_ADDRESS: RETURN_A_GIFT.ENTER_EMAIL_ADDRESS,\n      RE_ENTER_EMAIL_ADDRESS: RETURN_A_GIFT.RE_ENTER_EMAIL_ADDRESS,\n      LOOKUP_ORDER: ZIP_CODE_LOOKUP.LOOKUP_ORDER\n    }\n  },\n  computed: {\n    ...mapGetters({\n      order: 'order/order',\n      isLoading: 'order/isLoading'\n    }),\n    show: {\n      get () {\n        return this.visible\n      },\n      set (value) {\n        if (!value) {\n          this.$emit('close')\n        }\n      }\n    }\n  },\n  methods: {\n    validate () {\n      this.isDisabled = !(\n        validateOrderId(this.orderId) && validateEmail(this.email) && validateZipcode(this.zipCode) && validateEmail(this.reEnterEmail) && this.email === this.reEnterEmail\n      )\n    },\n    onEmailChange (event) {\n      const value = event.target.value\n      this.email = value\n      this.validate()\n    },\n    onRenterEmailChange (event) {\n      const value = event.target.value\n      this.reEnterEmail = value\n      this.validate()\n    },\n    onZipCodeChange (event) {\n      const value = event.target.value\n      this.zipCode = value\n      this.validate()\n    },\n    onOrderChange (event) {\n      const value = event.target.value\n      this.orderId = value\n      this.validate()\n    },\n    async lookupOrder () {\n      this.$store.commit('ui/updateOrderId', this.orderId)\n      this.$store.commit('ui/updateZipCode', this.zipCode)\n      setGiftEmail(this.email)\n      const params = {\n        order_id: this.orderId,\n        zip_code: this.zipCode,\n        email: this.email\n      }\n      this.$store\n        .dispatch('order/' + FETCH_ORDER, params)\n        .then((response) => {\n          if (response) {\n            const orderHash =\n              response && response != null\n                ? response.order_hash\n                : this.order.orderId\n            setIsGift(true)\n            this.$router.push('/orders/' + orderHash)\n          } else {\n            this.$router.push('/orderandzipcode')\n          }\n        })\n        .catch((error) => {\n          console.log({ error })\n          this.errorMessage = 'Order not found'\n        })\n    }\n  }\n}\n</script>\n\n<style scoped></style>\n"]}]}