{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/PDPPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/PDPPage.vue","mtime":1649977023155},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js","mtime":1649977089802}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBPRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9hdG9tcy9PRGlhbG9nLnZ1ZScKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7CiAgZ2V0Q29sb3JPcHRpb25zRm9yU2VsZWN0ZWRWYXJpYW50LAogIHNhdmVTZWxlY3RlZEl0ZW1Ub1N0b3JlLAogIGdldFByZXZpb3VzbHlTZWxlY3RlZE9wdGlvbiwKICBnZXRTaXplT3B0aW9uc0ZvclNlbGVjdGVkVmFyaWFudAp9IGZyb20gJ0AvY29udHJvbGxlcnMvZXhjaGFuZ2VzQ29udHJvbGxlcicKaW1wb3J0IHsgQ09OU1RBTlRTIH0gZnJvbSAnQC9jb25zdGFudHMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1BEUFBhZ2UnLAogIGNvbXBvbmVudHM6IHsKICAgIE9EaWFsb2csCiAgICBQcm9kdWN0U2xpZGVWaWV3OiAoKSA9PgogICAgICBpbXBvcnQoJ0AvY29tcG9uZW50cy9vcmdhbmlzbS9Qcm9kdWN0U2xpZGVWaWV3LnZ1ZScpLAogICAgT1RleHQ6ICgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL2F0b21zL09UZXh0LnZ1ZScpLAogICAgU2l6ZURyb3Bkb3duOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9tb2xlY3VsZXMvU2l6ZURyb3Bkb3duLnZ1ZScpLAogICAgQWN0aW9uQnV0dG9uOiAoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9hdG9tcy9BY3Rpb25CdXR0b24udnVlJykKICB9LAogIHByb3BzOiB7CiAgICB2aXNpYmxlOiBCb29sZWFuLAogICAgZW5hYmxlVGV4dDogQm9vbGVhbiwKICAgIHJldHVyblJlYXNvbkNsaWNrZWQ6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgc2VsZWN0ZWRJbWFnZTogJycsCiAgICBpc0Rpc2FibGVkOiB0cnVlLAogICAgc2VsZWN0ZWRTaXplOiBudWxsLAogICAgc2VsZWN0ZWRDb2xvcjogbnVsbCwKICAgIFJFVFVSTl9SRUFTT05fQUNUSU9OOiBDT05TVEFOVFMuUkVUVVJOX1JFQVNPTl9BQ1RJT04sCiAgICBzZWxlY3RlZEl0ZW06IHt9CiAgfSksCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBpc0xvYWRpbmc6ICdleGNoYW5nZS9pc0xvYWRpbmcnLAogICAgICBjdXJyZW50SXRlbUluZGV4OiAncmV0dXJucy9jdXJyZW50SXRlbUluZGV4JywKICAgICAgc2VsZWN0ZWRJdGVtczogJ29yZGVyL3NlbGVjdGVkSXRlbXMnLAogICAgICByZXR1cm5SZWFzb25TZWxlY3RlZDogJ3JldHVybnMvcmV0dXJuUmVhc29uU2VsZWN0ZWQnLAogICAgICBleGNoYW5nZUxpc3Q6ICdvcmRlci9leGNoYW5nZUxpc3QnLAogICAgICByZWFzb246ICdyZXR1cm5zL3JlYXNvbicKICAgIH0pLAogICAgaXRlbSAoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSXRlbXNbdGhpcy5jdXJyZW50SXRlbUluZGV4XQogICAgfSwKICAgIGV4Y2hhbmdlSXRlbVZhcmlhbnRDYXJkcyAoKSB7CiAgICAgIHJldHVybiBnZXRDb2xvck9wdGlvbnNGb3JTZWxlY3RlZFZhcmlhbnQodGhpcy5pdGVtKQogICAgfSwKICAgIGV4Y2hhbmdlVmFyaWFudFNpemVPcHRpb25zICgpIHsKICAgICAgcmV0dXJuIGdldFNpemVPcHRpb25zRm9yU2VsZWN0ZWRWYXJpYW50KHRoaXMuaXRlbSkKICAgIH0sCiAgICBwcmV2aW91c2x5U2VsZWN0ZWRPcHRpb24gKCkgewogICAgICByZXR1cm4gZ2V0UHJldmlvdXNseVNlbGVjdGVkT3B0aW9uKHRoaXMuaXRlbSwgdGhpcy5leGNoYW5nZUxpc3QpCiAgICB9LAoKICAgIHNob3c6IHsKICAgICAgZ2V0ICgpIHsKICAgICAgICByZXR1cm4gdGhpcy52aXNpYmxlCiAgICAgIH0sCiAgICAgIHNldCAodmFsdWUpIHsKICAgICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZScpCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNhcmRTZWxlY3RlZCAoY2FyZCkgewogICAgICBpZiAoIWNhcmQuZGlzYWJsZWQpIHsKICAgICAgICBjb25zb2xlLmxvZyh7IGNhcmQgfSkKICAgICAgICB0aGlzLnNlbGVjdGVkQ29sb3IgPSBjYXJkLmNvbG9yCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdyZXR1cm5zL3VwZGF0ZVJldHVyblJlYXNvblNlbGVjdGVkJywgdHJ1ZSkKICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGNhcmQKICAgICAgfQogICAgfSwKICAgIG9uU2l6ZVNlbGVjdGVkIChzZWxlY3RlZEl0ZW0pIHsKICAgICAgaWYgKCFzZWxlY3RlZEl0ZW0uZGlzYWJsZWQpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3JldHVybnMvdXBkYXRlUmV0dXJuUmVhc29uU2VsZWN0ZWQnLCB0cnVlKQogICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gc2VsZWN0ZWRJdGVtCiAgICAgIH0KICAgIH0sCiAgICBvbkNsaWNrTWV0aG9kIChldmVudCkgewogICAgICB0aGlzLnNob3cgPSBmYWxzZQogICAgICBzYXZlU2VsZWN0ZWRJdGVtVG9TdG9yZSh0aGlzLnNlbGVjdGVkSXRlbSkKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdyZXR1cm5zL3VwZGF0ZVJlYXNvbicsIHsKICAgICAgICByZWFzb246IHRoaXMuUkVUVVJOX1JFQVNPTl9BQ1RJT04uT1RIRVIsCiAgICAgICAgaWRlbnRpZmllcjogdGhpcy5zZWxlY3RlZEl0ZW0uaWRlbnRpZmllcgogICAgICB9KQogICAgICB0aGlzLnJldHVyblJlYXNvbkNsaWNrZWQoKQogICAgICB0aGlzLiRlbWl0KCdjbGljaycsIGV2ZW50KQogICAgfQogIH0sCiAgYmVmb3JlVW5tb3VudCAoKSB7CiAgICB0aGlzLmlzRGlzYWJsZWQgPSB0cnVlCiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gdGhpcy5pdGVtCgogICAgY29uc29sZS5sb2coewogICAgICBjb2xvcnM6IHRoaXMuZXhjaGFuZ2VJdGVtVmFyaWFudENhcmRzLAogICAgICBzaXplczogdGhpcy5leGNoYW5nZVZhcmlhbnRTaXplT3B0aW9ucwogICAgfSkKICB9Cn0K"},{"version":3,"sources":["PDPPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"PDPPage.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n  <o-dialog\n    :visible=\"show\"\n    is-full-screen\n    @close=\"show = false\"\n  >\n    <div\n      :style=\"{\n        overflow: 'hidden',\n      }\"\n      :class=\"{\n        'pa-0 mb-16': $vuetify.breakpoint.smAndDown,\n        'mt-12': $vuetify.breakpoint.mdAndUp,\n      }\"\n    >\n      <o-text\n        xl\n        bold\n        v-if=\"!this.isLoading\"\n      >\n        {{ this.selectedItem.title || \"\" }}\n      </o-text>\n      <v-row>\n        <v-col md=\"4\" order-md=\"1\">\n          <v-img\n            :src=\"this.selectedItem.image_url\"\n            :class=\"{ 'pa-0': $vuetify.breakpoint.smAndDown }\"\n            :style=\"{ 'max-height': 'fit-content' }\"\n          />\n        </v-col>\n        <v-col\n          md=\"5\"\n          order-md=\"2\"\n          :class=\"{ 'd-flex align-start': $vuetify.breakpoint.mdAndUp }\"\n        >\n          <v-card flat>\n            <o-text\n              s\n              :class=\"{ 'mx-6': $vuetify.breakpoint.mdAndUp }\"\n              v-html=\"'Color: ' + this.selectedColor\"\n            />\n            <product-slide-view\n              :enable-text=\"enableText\"\n              :cards=\"exchangeItemVariantCards\"\n              :width=\"72\"\n              :height=\"72\"\n              :on-card-selected=\"onCardSelected\"\n              :previously-selected-option=\"this.previouslySelectedOption\"\n            />\n            <o-text\n              s\n              bold\n              class=\"mb-4\"\n              :class=\"{ 'mx-6 ': $vuetify.breakpoint.mdAndUp }\"\n            >\n              Size\n            </o-text>\n            <size-dropdown\n              :previously-selected-option=\"this.previouslySelectedOption\"\n              :items=\"this.exchangeVariantSizeOptions\"\n              :on-change=\"onSizeSelected\"\n            />\n            <div :class=\"{ 'mx-6': $vuetify.breakpoint.mdAndUp }\">\n              <action-button\n                @click.stop=\"onClickMethod\"\n                primary-color\n                :disabled=\"isDisabled\"\n                :loading=\"isLoading\"\n                block\n                large\n              >\n                Make a selection to exchange\n              </action-button>\n            </div>\n          </v-card>\n        </v-col>\n      </v-row>\n    </div>\n  </o-dialog>\n</template>\n\n<script>\nimport ODialog from '@/components/atoms/ODialog.vue'\nimport { mapGetters } from 'vuex'\nimport {\n  getColorOptionsForSelectedVariant,\n  saveSelectedItemToStore,\n  getPreviouslySelectedOption,\n  getSizeOptionsForSelectedVariant\n} from '@/controllers/exchangesController'\nimport { CONSTANTS } from '@/constants'\n\nexport default {\n  name: 'PDPPage',\n  components: {\n    ODialog,\n    ProductSlideView: () =>\n      import('@/components/organism/ProductSlideView.vue'),\n    OText: () => import('@/components/atoms/OText.vue'),\n    SizeDropdown: () => import('@/components/molecules/SizeDropdown.vue'),\n    ActionButton: () => import('@/components/atoms/ActionButton.vue')\n  },\n  props: {\n    visible: Boolean,\n    enableText: Boolean,\n    returnReasonClicked: {\n      type: Function,\n      required: true\n    }\n  },\n  data: () => ({\n    selectedImage: '',\n    isDisabled: true,\n    selectedSize: null,\n    selectedColor: null,\n    RETURN_REASON_ACTION: CONSTANTS.RETURN_REASON_ACTION,\n    selectedItem: {}\n  }),\n  computed: {\n    ...mapGetters({\n      isLoading: 'exchange/isLoading',\n      currentItemIndex: 'returns/currentItemIndex',\n      selectedItems: 'order/selectedItems',\n      returnReasonSelected: 'returns/returnReasonSelected',\n      exchangeList: 'order/exchangeList',\n      reason: 'returns/reason'\n    }),\n    item () {\n      return this.selectedItems[this.currentItemIndex]\n    },\n    exchangeItemVariantCards () {\n      return getColorOptionsForSelectedVariant(this.item)\n    },\n    exchangeVariantSizeOptions () {\n      return getSizeOptionsForSelectedVariant(this.item)\n    },\n    previouslySelectedOption () {\n      return getPreviouslySelectedOption(this.item, this.exchangeList)\n    },\n\n    show: {\n      get () {\n        return this.visible\n      },\n      set (value) {\n        if (!value) {\n          this.$emit('close')\n        }\n      }\n    }\n  },\n  methods: {\n    onCardSelected (card) {\n      if (!card.disabled) {\n        console.log({ card })\n        this.selectedColor = card.color\n        this.$store.commit('returns/updateReturnReasonSelected', true)\n        this.selectedItem = card\n      }\n    },\n    onSizeSelected (selectedItem) {\n      if (!selectedItem.disabled) {\n        this.$store.commit('returns/updateReturnReasonSelected', true)\n        this.selectedItem = selectedItem\n      }\n    },\n    onClickMethod (event) {\n      this.show = false\n      saveSelectedItemToStore(this.selectedItem)\n      this.$store.commit('returns/updateReason', {\n        reason: this.RETURN_REASON_ACTION.OTHER,\n        identifier: this.selectedItem.identifier\n      })\n      this.returnReasonClicked()\n      this.$emit('click', event)\n    }\n  },\n  beforeUnmount () {\n    this.isDisabled = true\n  },\n  mounted () {\n    this.selectedItem = this.item\n\n    console.log({\n      colors: this.exchangeItemVariantCards,\n      sizes: this.exchangeVariantSizeOptions\n    })\n  }\n}\n</script>\n\n<style scoped>\n.fullWidth {\n  width: 100%;\n}\n.partialWidth {\n  width: 300px;\n}\n.boldText {\n  font-weight: bold;\n}\n</style>\n"]}]}