{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/ReturnUserView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/ReturnUserView.vue","mtime":1651169814958},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js","mtime":1649977089802}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQcm9kdWN0VGh1bWJuYWlsIGZyb20gJ0AvY29tcG9uZW50cy9vcmdhbmlzbS9Qcm9kdWN0VGh1bWJuYWlsLnZ1ZScKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCcKaW1wb3J0IE9UZXh0IGZyb20gJ0AvY29tcG9uZW50cy9hdG9tcy9PVGV4dC52dWUnCmltcG9ydCB7IGdldEZvcm1hdHRlZERhdGUgfSBmcm9tICdAL3V0aWxzJwppbXBvcnQgQWN0aW9uQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9hdG9tcy9BY3Rpb25CdXR0b24udnVlJwppbXBvcnQgeyBVUERBVEVfUkVGVU5EX0xJU1RfRk9SX1JFVFVSTl9VU0VSLCBVUERBVEVfRVhDSEFOR0VfTElTVF9GT1JfUkVUVVJOX1VTRVIgfSBmcm9tICdAL3N0b3JlL2NvbnN0YW50cy5qcycKaW1wb3J0IHsgVFJBQ0tJTkdfVklFVyB9IGZyb20gJ2JyYW5kaW5nL3N0cmluZ3MuanNvbicKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmV0dXJuVXNlclZpZXcnLAoKICBjb21wb25lbnRzOiB7CiAgICBQcm9kdWN0VGh1bWJuYWlsLAogICAgT1RleHQsCiAgICBBY3Rpb25CdXR0b24KICB9LAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIENPTVBMRVRFRDogVFJBQ0tJTkdfVklFVy5DT01QTEVURUQsCiAgICAgIEFDVElWRTogVFJBQ0tJTkdfVklFVy5BQ1RJVkUsCiAgICAgIENBTkNFTEVEOiBUUkFDS0lOR19WSUVXLkNBTkNFTEVELAogICAgICBSRUZVTkQ6IFRSQUNLSU5HX1ZJRVcuUkVGVU5ELAogICAgICBFWENIQU5HRTogVFJBQ0tJTkdfVklFVy5FWENIQU5HRSwKICAgICAgVFJBQ0tfTVlfUkVUVVJOOiBUUkFDS0lOR19WSUVXLlRSQUNLX01ZX1JFVFVSTiwKICAgICAgVFJBQ0tfTVlfRVhDSEFOR0U6IFRSQUNLSU5HX1ZJRVcuVFJBQ0tfTVlfRVhDSEFOR0UsCiAgICAgIHJtYVN0YXR1czogJycKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7IHJtYUxpc3Q6ICdvcmRlci9ybWFMaXN0Jywgb3JkZXI6ICdvcmRlci9vcmRlcicgfSkKICB9LAoKICBwcm9wczogewogIH0sCgogIG1ldGhvZHM6IHsKICAgIC4uLm1hcE11dGF0aW9ucyh7CiAgICAgIHNldFNlbGVjdGVkUmV0dXJuTWV0aG9kOiAncmV0dXJucy9zZXRTZWxlY3RlZFJldHVybk1ldGhvZCcKICAgIH0pLAogICAgZ2V0UmV0dXJuRGF0ZSAoY3JlYXRlZEF0KSB7CiAgICAgIHJldHVybiAnUmVxdWVzdGVkIG9uICcgKyBnZXRGb3JtYXR0ZWREYXRlKGNyZWF0ZWRBdCkKICAgIH0sCiAgICBpc0V4Y2hhbmdlT3JkZXIgKHJtYUl0ZW1zKSB7CiAgICAgIHJldHVybiBybWFJdGVtcz8uZmlsdGVyKChybWFJdGVtKSA9PiBybWFJdGVtPy5pc19leGNoYW5nZSk/Lmxlbmd0aCA+IDAKICAgIH0sCiAgICBhc3luYyB0cmFja015UmV0dXJuIChyZXR1cm5JdGVtKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncmV0dXJucy91cGRhdGVTZWxlY3RlZFJldHVybkl0ZW0nLCByZXR1cm5JdGVtKQogICAgICBjb25zdCByZWZ1bmRMaXN0ID0gW10KICAgICAgY29uc3QgZXhjaGFuZ2VMaXN0ID0gW10KCiAgICAgIHJldHVybkl0ZW0ucm1hX2l0ZW1zLm1hcChpdGVtID0+IHsKICAgICAgICBpZiAoIWl0ZW0/LmlzX2V4Y2hhbmdlKSB7CiAgICAgICAgICByZWZ1bmRMaXN0LnB1c2goaXRlbS5vcmRlcl9pdGVtKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBleGNoYW5nZUxpc3QucHVzaChpdGVtLm9yZGVyX2l0ZW0pCiAgICAgICAgfQogICAgICB9KQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyLycgKyBVUERBVEVfUkVGVU5EX0xJU1RfRk9SX1JFVFVSTl9VU0VSLCByZWZ1bmRMaXN0KQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyLycgKyBVUERBVEVfRVhDSEFOR0VfTElTVF9GT1JfUkVUVVJOX1VTRVIsIGV4Y2hhbmdlTGlzdCkKCiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRSZXR1cm5NZXRob2QocmV0dXJuSXRlbS5yZXR1cm5fbWV0aG9kKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL29yZGVycy8nICsgdGhpcy5vcmRlci5vcmRlcl9oYXNoICsgJy90cmFja2VyLycgKyByZXR1cm5JdGVtLmlkZW50aWZpZXIpCiAgICB9LAogICAgaXNFeGNoYW5nZSAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5pc19leGNoYW5nZSAmJiBpdGVtLmV4Y2hhbmdlX2l0ZW0KICAgIH0sCiAgICBnZXRTdGVwcGVybGFiZWwgKHJldHVyblN0YXR1cykgewogICAgICB2YXIgdGl0bGUgPSAnJwogICAgICB2YXIgaWNvbiA9ICcnCiAgICAgIGlmIChyZXR1cm5TdGF0dXMgPT09ICdTVEFSVEVEJyB8fCByZXR1cm5TdGF0dXMgPT09ICdJTl9UUkFOU0lUJyB8fCByZXR1cm5TdGF0dXMgPT09ICdSRUNFSVZFRCcpIHsKICAgICAgICB0aXRsZSA9IHRoaXMuQUNUSVZFCiAgICAgICAgaWNvbiA9ICdob3VyZ2xhc3NfdG9wJwogICAgICB9IGVsc2UgaWYgKHJldHVyblN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcpIHsKICAgICAgICB0aXRsZSA9IHRoaXMuQ09NUExFVEVECiAgICAgICAgaWNvbiA9ICdkb25lJwogICAgICB9IGVsc2UgaWYgKHJldHVyblN0YXR1cyA9PT0gJ0NBTkNFTEVEJykgewogICAgICAgIHRpdGxlID0gdGhpcy5DQU5DRUxFRAogICAgICAgIGljb24gPSAnYmxvY2snCiAgICAgIH0KICAgICAgcmV0dXJuIHsgdGl0bGUsIGljb24gfQogICAgfQogIH0sCgogIG1vdW50ZWQgKCkgewogICAgdGhpcy5nZXRTdGVwcGVybGFiZWwoKQogIH0KCn0K"},{"version":3,"sources":["ReturnUserView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"ReturnUserView.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n  <div>\n    <template v-for=\"(returnItem, returnItemIndex) in this.rmaList.rmaListItems\">\n      <v-row :key=\"returnItemIndex\">\n        <div class=\"bg-well my-2\">\n          <div class=\"mx-4\">\n            <div class=\"d-flex justify-space-between align-center my-5\">\n              <div>\n                <o-text sm bold>\n                  {{ getReturnDate(returnItem.created_at) }}\n                </o-text>\n              </div>\n              <div class=\"d-flex align-center\">\n                <v-icon small bold>\n                  {{ getStepperlabel(returnItem.return_status).icon }}\n                </v-icon>\n                <o-text\n                  sm\n                  bold\n                  class=\"ml-2\"\n                >\n                  {{ getStepperlabel(returnItem.return_status).title }}\n                </o-text>\n              </div>\n            </div>\n\n            <v-divider />\n\n            <template v-for=\"(item, index) in returnItem.rma_items\">\n              <v-row :key=\"index\">\n                <div v-if=\"isExchange(item)\" class=\"d-flex mb-4\">\n                  <v-row>\n                    <v-row>\n                      <o-text\n                        sm\n                        bold\n                        class=\"ml-8\"\n                      >\n                        {{ EXCHANGE }}\n                      </o-text>\n                      <v-col cols=\"10\">\n                        <product-thumbnail\n                          :key=\"index\"\n                          :item=\"item.exchange_item\"\n                          :index=\"index\"\n                          title=\"Original purchase\"\n                          :sub-title1=\"item.exchange_item.originalItem.title\"\n                          :sub-title2=\"item.exchange_item.originalItem.color + ' - ' + item.exchange_item.originalItem.size\"\n                          :image-url=\"item.exchange_item.originalItem.image_url\"\n                          is-small-thumbnail\n                          from-return-item\n                        />\n                        <div class=\"ml-6\">\n                          <v-img\n                            :src=\"require('@/assets/images/down_arrow.png')\"\n                            max-width=\"22\"\n                            max-height=\"22\"\n                            style=\"z-index: 1\"\n                            contain\n                          />\n                        </div>\n                      </v-col>\n                      <!-- <v-col cols=\"2\" align-self=\"center\">\n                        <div class=\"d-flex justify-center align-center\">\n                          <o-text sm>\n                            {{ item.exchange_item.originalItem.formattedRefundPrice }}\n                          </o-text>\n                        </div>\n                      </v-col> -->\n                    </v-row>\n                    <v-row class=\"mb-1 mt-n3\">\n                      <v-col cols=\"10\">\n                        <product-thumbnail\n                          :key=\"index\"\n                          :item=\"item.exchange_item\"\n                          :index=\"index\"\n                          title=\"Incoming purchase\"\n                          :sub-title1=\"item.exchange_item.title\"\n                          :sub-title2=\"item.exchange_item.color + ' - ' + item.exchange_item.size\"\n                          :image-url=\"item.exchange_item.image_url\"\n                          is-small-thumbnail\n                          from-return-item\n                        />\n                      </v-col>\n                      <!-- <v-col cols=\"2\" align-self=\"center\">\n                        <div class=\"d-flex justify-center align-center\">\n                          <o-text sm>\n                            {{ item.exchange_item.formattedExchangePrice }}\n                          </o-text>\n                        </div>\n                      </v-col> -->\n                    </v-row>\n                  </v-row>\n                </div>\n                <div v-else class=\"d-flex ml-n4 mb-4\">\n                  <v-row>\n                    <o-text\n                      sm\n                      bold\n                      class=\"ml-8\"\n                    >\n                      {{ REFUND }}\n                    </o-text>\n                    <v-col>\n                      <product-thumbnail\n                        :key=\"index\"\n                        :item=\"item\"\n                        :index=\"index\"\n                        :title=\"item.order_item.title\"\n                        :sub-title1=\"item.order_item.subtitle\"\n                        :image-url=\"item.order_item.image_url\"\n                        is-small-thumbnail\n                        from-return-item\n                      />\n                    </v-col>\n                    <v-col style=\"max-width: 40px\">\n                      <o-text\n                        sm\n                        :key=\"index\"\n                      >\n                        {{ item.order_item.formattedRefundPrice }}\n                      </o-text>\n                    </v-col>\n                  </v-row>\n                </div>\n              </v-row>\n            </template>\n\n            <v-divider />\n\n            <div class=\"d-flex justify-content-between align-center justify-center my-5\">\n              <action-button\n                @click.stop=\"trackMyReturn(returnItem)\"\n                primary-color\n                :block=\"$vuetify.breakpoint.smAndDown\"\n              >\n                {{ isExchangeOrder(returnItem.rma_items) ? TRACK_MY_EXCHANGE : TRACK_MY_RETURN }}\n              </action-button>\n            </div>\n          </div>\n        </div>\n      </v-row>\n    </template>\n  </div>\n</template>\n\n<script>\nimport ProductThumbnail from '@/components/organism/ProductThumbnail.vue'\nimport { mapGetters, mapMutations } from 'vuex'\nimport OText from '@/components/atoms/OText.vue'\nimport { getFormattedDate } from '@/utils'\nimport ActionButton from '@/components/atoms/ActionButton.vue'\nimport { UPDATE_REFUND_LIST_FOR_RETURN_USER, UPDATE_EXCHANGE_LIST_FOR_RETURN_USER } from '@/store/constants.js'\nimport { TRACKING_VIEW } from 'branding/strings.json'\n\nexport default {\n  name: 'ReturnUserView',\n\n  components: {\n    ProductThumbnail,\n    OText,\n    ActionButton\n  },\n\n  data () {\n    return {\n      COMPLETED: TRACKING_VIEW.COMPLETED,\n      ACTIVE: TRACKING_VIEW.ACTIVE,\n      CANCELED: TRACKING_VIEW.CANCELED,\n      REFUND: TRACKING_VIEW.REFUND,\n      EXCHANGE: TRACKING_VIEW.EXCHANGE,\n      TRACK_MY_RETURN: TRACKING_VIEW.TRACK_MY_RETURN,\n      TRACK_MY_EXCHANGE: TRACKING_VIEW.TRACK_MY_EXCHANGE,\n      rmaStatus: ''\n    }\n  },\n\n  computed: {\n    ...mapGetters({ rmaList: 'order/rmaList', order: 'order/order' })\n  },\n\n  props: {\n  },\n\n  methods: {\n    ...mapMutations({\n      setSelectedReturnMethod: 'returns/setSelectedReturnMethod'\n    }),\n    getReturnDate (createdAt) {\n      return 'Requested on ' + getFormattedDate(createdAt)\n    },\n    isExchangeOrder (rmaItems) {\n      return rmaItems?.filter((rmaItem) => rmaItem?.is_exchange)?.length > 0\n    },\n    async trackMyReturn (returnItem) {\n      this.$store.commit('returns/updateSelectedReturnItem', returnItem)\n      const refundList = []\n      const exchangeList = []\n\n      returnItem.rma_items.map(item => {\n        if (!item?.is_exchange) {\n          refundList.push(item.order_item)\n        } else {\n          exchangeList.push(item.order_item)\n        }\n      })\n      this.$store.commit('order/' + UPDATE_REFUND_LIST_FOR_RETURN_USER, refundList)\n      this.$store.commit('order/' + UPDATE_EXCHANGE_LIST_FOR_RETURN_USER, exchangeList)\n\n      this.setSelectedReturnMethod(returnItem.return_method)\n      this.$router.push('/orders/' + this.order.order_hash + '/tracker/' + returnItem.identifier)\n    },\n    isExchange (item) {\n      return item.is_exchange && item.exchange_item\n    },\n    getStepperlabel (returnStatus) {\n      var title = ''\n      var icon = ''\n      if (returnStatus === 'STARTED' || returnStatus === 'IN_TRANSIT' || returnStatus === 'RECEIVED') {\n        title = this.ACTIVE\n        icon = 'hourglass_top'\n      } else if (returnStatus === 'COMPLETED') {\n        title = this.COMPLETED\n        icon = 'done'\n      } else if (returnStatus === 'CANCELED') {\n        title = this.CANCELED\n        icon = 'block'\n      }\n      return { title, icon }\n    }\n  },\n\n  mounted () {\n    this.getStepperlabel()\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}