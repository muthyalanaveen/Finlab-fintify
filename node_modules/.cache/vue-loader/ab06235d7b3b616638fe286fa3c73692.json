{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/ZipCodeView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/ZipCodeView.vue","mtime":1659492598906},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js","mtime":1649977089802}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyBGRVRDSF9PUkRFUiwgR0VUX0NPTkZJRyB9IGZyb20gJ0Avc3RvcmUvY29uc3RhbnRzLmpzJwppbXBvcnQgT1RleHRGaWVsZCBmcm9tICdAL2NvbXBvbmVudHMvbW9sZWN1bGVzL09UZXh0RmllbGQudnVlJwppbXBvcnQgQWN0aW9uQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9hdG9tcy9BY3Rpb25CdXR0b24udnVlJwppbXBvcnQgeyBaSVBfQ09ERV9MT09LVVAgfSBmcm9tICdicmFuZGluZy9zdHJpbmdzLmpzb24nCmltcG9ydCBPVGV4dCBmcm9tICdAL2NvbXBvbmVudHMvYXRvbXMvT1RleHQudnVlJwppbXBvcnQgSGVhZGVyVGl0bGUgZnJvbSAnQC9jb21wb25lbnRzL21vbGVjdWxlcy9IZWFkZXJUaXRsZS52dWUnCmltcG9ydCB7IGdldElzR2lmdCwgZ2V0R2lmdEVtYWlsIH0gZnJvbSAnQC9zdG9yZS9zZXNzaW9uU3RvcmFnZS5qcycKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBPVGV4dEZpZWxkLAogICAgQWN0aW9uQnV0dG9uLAogICAgT1RleHQsCiAgICBIZWFkZXJUaXRsZQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICB6aXBDb2RlOiAnJywKICAgICAgaXNEaXNhYmxlZDogdHJ1ZSwKICAgICAgc2hvd1JldHVybkdpZnQ6IGZhbHNlLAogICAgICBPTkVfTU9SRV9USElORzogWklQX0NPREVfTE9PS1VQLk9ORV9NT1JFX1RISU5HLAogICAgICBTSElQUElOR19aSVBfQ09ERV9USVRMRTogWklQX0NPREVfTE9PS1VQLlNISVBQSU5HX1pJUF9DT0RFX1RJVExFLAogICAgICBaSVBfQ09ERV9URVhUX0ZJRUxEX1RJVExFOiBaSVBfQ09ERV9MT09LVVAuWklQX0NPREVfVEVYVF9GSUVMRF9USVRMRSwKICAgICAgRU5URVJfWklQX0NPREVfUExBQ0VIT0xERVI6IFpJUF9DT0RFX0xPT0tVUC5FTlRFUl9aSVBfQ09ERV9QTEFDRUhPTERFUiwKICAgICAgTE9PS1VQX09SREVSOiBaSVBfQ09ERV9MT09LVVAuTE9PS1VQX09SREVSLAogICAgICBpc0dpZnRBbGxvd2VkOiBmYWxzZSwKICAgICAgaXNHaWZ0UmV0dXJuOiBnZXRJc0dpZnQoKSwKICAgICAgc3RhdGVfRW1haWw6IGdldEdpZnRFbWFpbCgpCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIG9yZGVyOiAnb3JkZXIvb3JkZXInLAogICAgICBpc0xvYWRpbmc6ICdvcmRlci9pc0xvYWRpbmcnLAogICAgICBzdGF0ZV9vcmRlcklkOiAndWkvb3JkZXJJZCcsCiAgICAgIHN0YXRlX3ppcENvZGU6ICd1aS96aXBDb2RlJywKICAgICAgY29uZmlnOiAncmV0dXJucy9jb25maWcnCiAgICB9KQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLnppcENvZGUgPSAnJwoKICAgIGlmICghdGhpcy5jb25maWcpIHsKICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAuZGlzcGF0Y2goJ29yZGVyLycgKyBHRVRfQ09ORklHLCBudWxsKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHRoaXMuaXNHaWZ0QWxsb3dlZCA9IHJlc3BvbnNlPy5naWZ0X3JldHVybnNfYWxsb3dlZAogICAgICAgICAgICB0aGlzLmN1c3RvbWVyU3VwcG9ydENvbnRhY3QgPSByZXNwb25zZS5yZXRhaWxlcl9pbmZvPy5jdXN0b21lcl9zdXBwb3J0X2NvbnRhY3QKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKHsgZXJyIH0pCiAgICAgICAgfSkKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY3VzdG9tZXJTdXBwb3J0Q29udGFjdCA9IHRoaXMuY29uZmlnPy5yZXRhaWxlcl9pbmZvPy5jdXN0b21lcl9zdXBwb3J0X2NvbnRhY3QKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ2hhbmdlIChldmVudCkgewogICAgICB0aGlzLnZhbGlkYXRlKGV2ZW50LnRhcmdldC52YWx1ZSkKICAgIH0sCiAgICBvblBhc3RlIChldmVudCkgewogICAgICB0aGlzLnZhbGlkYXRlKGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpKQogICAgfSwKICAgIHZhbGlkYXRlICh2YWx1ZSkgewogICAgICB0aGlzLnppcENvZGUgPSB2YWx1ZQogICAgICB2YXIgaXNWYWxpZFppcENvZGUgPSBmYWxzZQogICAgICBpZiAodmFsdWUpIHsKICAgICAgICBpc1ZhbGlkWmlwQ29kZSA9IHRoaXMuaXNWYWxpZFppcCh2YWx1ZSkKICAgICAgfQogICAgICB0aGlzLmlzRGlzYWJsZWQgPSAhaXNWYWxpZFppcENvZGUKICAgIH0sCiAgICBpc1ZhbGlkWmlwICh6aXBDb2RlKSB7CiAgICAgIGNvbnN0IHppcGNvZGVSZXggPSAvWzAtOV0vZwogICAgICBjb25zdCBjaGVja0lzWmlwY29kZSA9IHppcGNvZGVSZXgudGVzdCh6aXBDb2RlKQogICAgICByZXR1cm4gemlwQ29kZS5sZW5ndGggPT09IDUgJiYgY2hlY2tJc1ppcGNvZGUKICAgIH0sCiAgICBhc3luYyBsb29rdXBPcmRlciAoKSB7CiAgICAgIGlmICghdGhpcy5pc1ZhbGlkWmlwKHRoaXMuemlwQ29kZSkpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIG9yZGVyX2lkOiB0aGlzLnN0YXRlX29yZGVySWQsCiAgICAgICAgemlwX2NvZGU6IHRoaXMuemlwQ29kZQogICAgICB9CiAgICAgIGlmICh0aGlzLmlzR2lmdFJldHVybiAmJiB0aGlzLnN0YXRlX0VtYWlsKSB7CiAgICAgICAgcGFyYW1zID0geyAuLi5wYXJhbXMsIGVtYWlsOiB0aGlzLnN0YXRlX0VtYWlsIH0KICAgICAgfQogICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaCgnb3JkZXIvJyArIEZFVENIX09SREVSLCBwYXJhbXMpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VpL3VwZGF0ZVppcENvZGUnLCB0aGlzLnppcENvZGUpCgogICAgICAgICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGNvbnN0IG9yZGVySGFzaCA9CiAgICAgICAgICAgICAgcmVzcG9uc2UgJiYgcmVzcG9uc2UgIT0gbnVsbAogICAgICAgICAgICAgICAgPyByZXNwb25zZS5vcmRlcl9oYXNoCiAgICAgICAgICAgICAgICA6IHRoaXMub3JkZXIub3JkZXJJZAogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL29yZGVycy8nICsgb3JkZXJIYXNoKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9vcmRlcmFuZHppcGNvZGUnKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndWkvdXBkYXRlWmlwQ29kZScsIHRoaXMuemlwQ29kZSkKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvb3JkZXJhbmR6aXBjb2RlJykKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoeyBlcnIgfSkKICAgICAgICB9KQogICAgfSwKICAgIHNob3dSZXR1cm5hR2lmdCAoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAncmV0dXJuZ2lmdCcKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["ZipCodeView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ZipCodeView.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"d-flex justify-center\">\n      <v-col\n        md=\"4\"\n        sm=\"8\"\n        xs=\"12\"\n        :class=\"{\n          'px-7': $vuetify.breakpoint.smAndDown,\n          'py-4': $vuetify.breakpoint.smAndDown,\n          'py-1': $vuetify.breakpoint.mdAndUp,\n        }\"\n      >\n        <v-form>\n          <o-text\n            sm\n            semi-bold\n            class=\"mb-3\"\n          >\n            {{ ONE_MORE_THING }}\n          </o-text>\n          <header-title class=\"pb-4\">\n            {{ SHIPPING_ZIP_CODE_TITLE }}\n          </header-title>\n          <o-text-field\n            :title=\"ZIP_CODE_TEXT_FIELD_TITLE\"\n            id=\"zipCode\"\n            @onChange=\"onChange($event)\"\n            @onKeyEnter=\"lookupOrder\"\n            @onPaste=\"onPaste($event)\"\n            :placeholder=\"ZIP_CODE_TEXT_FIELD_TITLE\"\n          />\n          <action-button\n            @click=\"lookupOrder\"\n            :class=\"{\n              'mt-n3': $vuetify.breakpoint.smAndDown,\n              'mt-n2': $vuetify.breakpoint.mdAndUp,\n            }\"\n            :disabled=\"isDisabled\"\n            :loading=\"isLoading\"\n            primary-color\n            block\n            x-large\n          >\n            {{ LOOKUP_ORDER }}\n          </action-button>\n        </v-form>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { FETCH_ORDER, GET_CONFIG } from '@/store/constants.js'\nimport OTextField from '@/components/molecules/OTextField.vue'\nimport ActionButton from '@/components/atoms/ActionButton.vue'\nimport { ZIP_CODE_LOOKUP } from 'branding/strings.json'\nimport OText from '@/components/atoms/OText.vue'\nimport HeaderTitle from '@/components/molecules/HeaderTitle.vue'\nimport { getIsGift, getGiftEmail } from '@/store/sessionStorage.js'\n\nexport default {\n  components: {\n    OTextField,\n    ActionButton,\n    OText,\n    HeaderTitle\n  },\n  data () {\n    return {\n      zipCode: '',\n      isDisabled: true,\n      showReturnGift: false,\n      ONE_MORE_THING: ZIP_CODE_LOOKUP.ONE_MORE_THING,\n      SHIPPING_ZIP_CODE_TITLE: ZIP_CODE_LOOKUP.SHIPPING_ZIP_CODE_TITLE,\n      ZIP_CODE_TEXT_FIELD_TITLE: ZIP_CODE_LOOKUP.ZIP_CODE_TEXT_FIELD_TITLE,\n      ENTER_ZIP_CODE_PLACEHOLDER: ZIP_CODE_LOOKUP.ENTER_ZIP_CODE_PLACEHOLDER,\n      LOOKUP_ORDER: ZIP_CODE_LOOKUP.LOOKUP_ORDER,\n      isGiftAllowed: false,\n      isGiftReturn: getIsGift(),\n      state_Email: getGiftEmail()\n    }\n  },\n  computed: {\n    ...mapGetters({\n      order: 'order/order',\n      isLoading: 'order/isLoading',\n      state_orderId: 'ui/orderId',\n      state_zipCode: 'ui/zipCode',\n      config: 'returns/config'\n    })\n  },\n  mounted () {\n    this.zipCode = ''\n\n    if (!this.config) {\n      this.$store\n        .dispatch('order/' + GET_CONFIG, null)\n        .then((response) => {\n          if (response) {\n            this.isGiftAllowed = response?.gift_returns_allowed\n            this.customerSupportContact = response.retailer_info?.customer_support_contact\n          }\n        })\n        .catch((err) => {\n          console.error({ err })\n        })\n    } else {\n      this.customerSupportContact = this.config?.retailer_info?.customer_support_contact\n    }\n  },\n  methods: {\n    onChange (event) {\n      this.validate(event.target.value)\n    },\n    onPaste (event) {\n      this.validate(event.clipboardData.getData('text/plain'))\n    },\n    validate (value) {\n      this.zipCode = value\n      var isValidZipCode = false\n      if (value) {\n        isValidZipCode = this.isValidZip(value)\n      }\n      this.isDisabled = !isValidZipCode\n    },\n    isValidZip (zipCode) {\n      const zipcodeRex = /[0-9]/g\n      const checkIsZipcode = zipcodeRex.test(zipCode)\n      return zipCode.length === 5 && checkIsZipcode\n    },\n    async lookupOrder () {\n      if (!this.isValidZip(this.zipCode)) {\n        return\n      }\n      let params = {\n        order_id: this.state_orderId,\n        zip_code: this.zipCode\n      }\n      if (this.isGiftReturn && this.state_Email) {\n        params = { ...params, email: this.state_Email }\n      }\n      this.$store\n        .dispatch('order/' + FETCH_ORDER, params)\n        .then((response) => {\n          this.$store.commit('ui/updateZipCode', this.zipCode)\n\n          if (response) {\n            const orderHash =\n              response && response != null\n                ? response.order_hash\n                : this.order.orderId\n            this.$router.push('/orders/' + orderHash)\n          } else {\n            this.$router.push('/orderandzipcode')\n          }\n        })\n        .catch((err) => {\n          this.$store.commit('ui/updateZipCode', this.zipCode)\n          this.$router.push('/orderandzipcode')\n          console.error({ err })\n        })\n    },\n    showReturnaGift () {\n      this.$router.push({\n        name: 'returngift'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  padding-top: 60px;\n}\n</style>\n"]}]}