{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/ReturnUserView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/components/pages/ReturnUserView.vue","mtime":1650905206294},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/vue-loader/lib/index.js","mtime":1649977089802}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQcm9kdWN0VGh1bWJuYWlsIGZyb20gJ0AvY29tcG9uZW50cy9vcmdhbmlzbS9Qcm9kdWN0VGh1bWJuYWlsLnZ1ZScKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCcKaW1wb3J0IE9UZXh0IGZyb20gJ0AvY29tcG9uZW50cy9hdG9tcy9PVGV4dC52dWUnCmltcG9ydCB7IGdldEZvcm1hdHRlZERhdGUgfSBmcm9tICdAL3V0aWxzJwppbXBvcnQgQWN0aW9uQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9hdG9tcy9BY3Rpb25CdXR0b24udnVlJwppbXBvcnQgeyBVUERBVEVfUkVGVU5EX0xJU1RfRk9SX1JFVFVSTl9VU0VSIH0gZnJvbSAnQC9zdG9yZS9jb25zdGFudHMuanMnCmltcG9ydCB7IFRSQUNLSU5HX1ZJRVcgfSBmcm9tICdicmFuZGluZy9zdHJpbmdzLmpzb24nCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JldHVyblVzZXJWaWV3JywKCiAgY29tcG9uZW50czogewogICAgUHJvZHVjdFRodW1ibmFpbCwKICAgIE9UZXh0LAogICAgQWN0aW9uQnV0dG9uCiAgfSwKCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBDT01QTEVURUQ6IFRSQUNLSU5HX1ZJRVcuQ09NUExFVEVELAogICAgICBBQ1RJVkU6IFRSQUNLSU5HX1ZJRVcuQUNUSVZFLAogICAgICBDQU5DRUxFRDogVFJBQ0tJTkdfVklFVy5DQU5DRUxFRCwKICAgICAgUkVGVU5EOiBUUkFDS0lOR19WSUVXLlJFRlVORCwKICAgICAgRVhDSEFOR0U6IFRSQUNLSU5HX1ZJRVcuRVhDSEFOR0UsCiAgICAgIFRSQUNLX01ZX1JFVFVSTjogVFJBQ0tJTkdfVklFVy5UUkFDS19NWV9SRVRVUk4sCiAgICAgIFRSQUNLX01ZX0VYQ0hBTkdFOiBUUkFDS0lOR19WSUVXLlRSQUNLX01ZX0VYQ0hBTkdFLAogICAgICBybWFTdGF0dXM6ICcnCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoeyBybWFMaXN0OiAnb3JkZXIvcm1hTGlzdCcsIG9yZGVyOiAnb3JkZXIvb3JkZXInIH0pLAogICAgaXNFeGNoYW5nZU9yZGVyICgpIHsKICAgICAgcmV0dXJuIHRoaXMucm1hTGlzdD8ucm1hTGlzdEl0ZW1zPy5maW5kSW5kZXgobGlzdEl0ZW0gPT4gbGlzdEl0ZW0/LnJtYV9pdGVtcz8uZmluZEluZGV4KGl0ZW0gPT4gaXRlbT8uaXNfZXhjaGFuZ2UgPT09IHRydWUpICE9PSAtMSkgIT09IC0xCiAgICB9CiAgfSwKCiAgcHJvcHM6IHsKICB9LAoKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoewogICAgICBzZXRTZWxlY3RlZFJldHVybk1ldGhvZDogJ3JldHVybnMvc2V0U2VsZWN0ZWRSZXR1cm5NZXRob2QnCiAgICB9KSwKICAgIGdldFJldHVybkRhdGUgKGNyZWF0ZWRBdCkgewogICAgICByZXR1cm4gJ1JlcXVlc3RlZCBvbiAnICsgZ2V0Rm9ybWF0dGVkRGF0ZShjcmVhdGVkQXQpCiAgICB9LAogICAgYXN5bmMgdHJhY2tNeVJldHVybiAocmV0dXJuSXRlbSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3JldHVybnMvdXBkYXRlU2VsZWN0ZWRSZXR1cm5JdGVtJywgcmV0dXJuSXRlbSkKICAgICAgY29uc3QgcmVmdW5kTGlzdCA9IFtdCiAgICAgIHJldHVybkl0ZW0ucm1hX2l0ZW1zLm1hcChpdGVtID0+IHsKICAgICAgICBpZiAoIWl0ZW0/LmlzX2V4Y2hhbmdlKSB7CiAgICAgICAgICByZWZ1bmRMaXN0LnB1c2goaXRlbS5vcmRlcl9pdGVtKQogICAgICAgIH0KICAgICAgfSkKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdvcmRlci8nICsgVVBEQVRFX1JFRlVORF9MSVNUX0ZPUl9SRVRVUk5fVVNFUiwgcmVmdW5kTGlzdCkKICAgICAgdGhpcy5zZXRTZWxlY3RlZFJldHVybk1ldGhvZChyZXR1cm5JdGVtLnJldHVybl9tZXRob2QpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvb3JkZXJzLycgKyB0aGlzLm9yZGVyLm9yZGVyX2hhc2ggKyAnL3RyYWNrZXIvJyArIHJldHVybkl0ZW0uaWRlbnRpZmllcikKICAgIH0sCiAgICBpc0V4Y2hhbmdlIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLmlzX2V4Y2hhbmdlICYmIGl0ZW0uZXhjaGFuZ2VfaXRlbQogICAgfSwKICAgIGdldFN0ZXBwZXJsYWJlbCAocmV0dXJuU3RhdHVzKSB7CiAgICAgIHZhciB0aXRsZSA9ICcnCiAgICAgIHZhciBpY29uID0gJycKICAgICAgaWYgKHJldHVyblN0YXR1cyA9PT0gJ1NUQVJURUQnIHx8IHJldHVyblN0YXR1cyA9PT0gJ0lOX1RSQU5TSVQnIHx8IHJldHVyblN0YXR1cyA9PT0gJ1JFQ0VJVkVEJykgewogICAgICAgIHRpdGxlID0gdGhpcy5BQ1RJVkUKICAgICAgICBpY29uID0gJ2hvdXJnbGFzc190b3AnCiAgICAgIH0gZWxzZSBpZiAocmV0dXJuU3RhdHVzID09PSAnQ09NUExFVEVEJykgewogICAgICAgIHRpdGxlID0gdGhpcy5DT01QTEVURUQKICAgICAgICBpY29uID0gJ2RvbmUnCiAgICAgIH0gZWxzZSBpZiAocmV0dXJuU3RhdHVzID09PSAnQ0FOQ0VMRUQnKSB7CiAgICAgICAgdGl0bGUgPSB0aGlzLkNBTkNFTEVECiAgICAgICAgaWNvbiA9ICdibG9jaycKICAgICAgfQogICAgICByZXR1cm4geyB0aXRsZSwgaWNvbiB9CiAgICB9CiAgfSwKCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLmdldFN0ZXBwZXJsYWJlbCgpCiAgfQoKfQo="},{"version":3,"sources":["ReturnUserView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"ReturnUserView.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n  <div>\n    <template v-for=\"(returnItem, returnItemIndex) in this.rmaList.rmaListItems\">\n      <v-row :key=\"returnItemIndex\">\n        <div class=\"bg-well my-2\">\n          <div class=\"mx-4\">\n            <div class=\"d-flex justify-space-between align-center my-5\">\n              <div>\n                <o-text sm bold>\n                  {{ getReturnDate(returnItem.created_at) }}\n                </o-text>\n              </div>\n              <div class=\"d-flex align-center\">\n                <v-icon small bold>\n                  {{ getStepperlabel(returnItem.return_status).icon }}\n                </v-icon>\n                <o-text\n                  sm\n                  bold\n                  class=\"ml-2\"\n                >\n                  {{ getStepperlabel(returnItem.return_status).title }}\n                </o-text>\n              </div>\n            </div>\n\n            <v-divider />\n\n            <template v-for=\"(item, index) in returnItem.rma_items\">\n              <v-row :key=\"index\">\n                <div v-if=\"isExchange(item)\" class=\"d-flex mb-4\">\n                  <v-row>\n                    <v-row>\n                      <o-text\n                        sm\n                        bold\n                        class=\"ml-8\"\n                      >\n                        {{ EXCHANGE }}\n                      </o-text>\n                      <v-col cols=\"10\">\n                        <product-thumbnail\n                          :key=\"index\"\n                          :item=\"item.exchange_item\"\n                          :index=\"index\"\n                          title=\"Original purchase\"\n                          :sub-title1=\"item.exchange_item.originalItem.title\"\n                          :sub-title2=\"item.exchange_item.originalItem.color + ' - ' + item.exchange_item.originalItem.size\"\n                          :image-url=\"item.exchange_item.originalItem.image_url\"\n                          is-small-thumbnail\n                          from-return-item\n                        />\n                        <div class=\"ml-6\">\n                          <v-img\n                            :src=\"require('@/assets/images/down_arrow.png')\"\n                            max-width=\"22\"\n                            max-height=\"22\"\n                            style=\"z-index: 1\"\n                            contain\n                          />\n                        </div>\n                      </v-col>\n                      <!-- <v-col cols=\"2\" align-self=\"center\">\n                        <div class=\"d-flex justify-center align-center\">\n                          <o-text sm>\n                            {{ item.exchange_item.originalItem.formattedRefundPrice }}\n                          </o-text>\n                        </div>\n                      </v-col> -->\n                    </v-row>\n                    <v-row class=\"mb-1 mt-n3\">\n                      <v-col cols=\"10\">\n                        <product-thumbnail\n                          :key=\"index\"\n                          :item=\"item.exchange_item\"\n                          :index=\"index\"\n                          title=\"Incoming purchase\"\n                          :sub-title1=\"item.exchange_item.title\"\n                          :sub-title2=\"item.exchange_item.color + ' - ' + item.exchange_item.size\"\n                          :image-url=\"item.exchange_item.image_url\"\n                          is-small-thumbnail\n                          from-return-item\n                        />\n                      </v-col>\n                      <!-- <v-col cols=\"2\" align-self=\"center\">\n                        <div class=\"d-flex justify-center align-center\">\n                          <o-text sm>\n                            {{ item.exchange_item.formattedExchangePrice }}\n                          </o-text>\n                        </div>\n                      </v-col> -->\n                    </v-row>\n                  </v-row>\n                </div>\n                <div v-else class=\"d-flex ml-n4 mb-4\">\n                  <v-row>\n                    <o-text\n                      sm\n                      bold\n                      class=\"ml-8\"\n                    >\n                      {{ REFUND }}\n                    </o-text>\n                    <v-col>\n                      <product-thumbnail\n                        :key=\"index\"\n                        :item=\"item\"\n                        :index=\"index\"\n                        :title=\"item.order_item.title\"\n                        :sub-title1=\"item.order_item.subtitle\"\n                        :image-url=\"item.order_item.image_url\"\n                        is-small-thumbnail\n                        from-return-item\n                      />\n                    </v-col>\n                    <v-col style=\"max-width: 40px\">\n                      <o-text\n                        sm\n                        :key=\"index\"\n                      >\n                        {{ item.order_item.formattedRefundPrice }}\n                      </o-text>\n                    </v-col>\n                  </v-row>\n                </div>\n              </v-row>\n            </template>\n\n            <v-divider />\n\n            <div class=\"d-flex justify-content-between align-center justify-center my-5\">\n              <action-button\n                @click.stop=\"trackMyReturn(returnItem)\"\n                primary-color\n                :block=\"$vuetify.breakpoint.smAndDown\"\n              >\n                {{ !isExchangeOrder ? TRACK_MY_RETURN : TRACK_MY_EXCHANGE }}\n              </action-button>\n            </div>\n          </div>\n        </div>\n      </v-row>\n    </template>\n  </div>\n</template>\n\n<script>\nimport ProductThumbnail from '@/components/organism/ProductThumbnail.vue'\nimport { mapGetters, mapMutations } from 'vuex'\nimport OText from '@/components/atoms/OText.vue'\nimport { getFormattedDate } from '@/utils'\nimport ActionButton from '@/components/atoms/ActionButton.vue'\nimport { UPDATE_REFUND_LIST_FOR_RETURN_USER } from '@/store/constants.js'\nimport { TRACKING_VIEW } from 'branding/strings.json'\n\nexport default {\n  name: 'ReturnUserView',\n\n  components: {\n    ProductThumbnail,\n    OText,\n    ActionButton\n  },\n\n  data () {\n    return {\n      COMPLETED: TRACKING_VIEW.COMPLETED,\n      ACTIVE: TRACKING_VIEW.ACTIVE,\n      CANCELED: TRACKING_VIEW.CANCELED,\n      REFUND: TRACKING_VIEW.REFUND,\n      EXCHANGE: TRACKING_VIEW.EXCHANGE,\n      TRACK_MY_RETURN: TRACKING_VIEW.TRACK_MY_RETURN,\n      TRACK_MY_EXCHANGE: TRACKING_VIEW.TRACK_MY_EXCHANGE,\n      rmaStatus: ''\n    }\n  },\n\n  computed: {\n    ...mapGetters({ rmaList: 'order/rmaList', order: 'order/order' }),\n    isExchangeOrder () {\n      return this.rmaList?.rmaListItems?.findIndex(listItem => listItem?.rma_items?.findIndex(item => item?.is_exchange === true) !== -1) !== -1\n    }\n  },\n\n  props: {\n  },\n\n  methods: {\n    ...mapMutations({\n      setSelectedReturnMethod: 'returns/setSelectedReturnMethod'\n    }),\n    getReturnDate (createdAt) {\n      return 'Requested on ' + getFormattedDate(createdAt)\n    },\n    async trackMyReturn (returnItem) {\n      this.$store.commit('returns/updateSelectedReturnItem', returnItem)\n      const refundList = []\n      returnItem.rma_items.map(item => {\n        if (!item?.is_exchange) {\n          refundList.push(item.order_item)\n        }\n      })\n      this.$store.commit('order/' + UPDATE_REFUND_LIST_FOR_RETURN_USER, refundList)\n      this.setSelectedReturnMethod(returnItem.return_method)\n      this.$router.push('/orders/' + this.order.order_hash + '/tracker/' + returnItem.identifier)\n    },\n    isExchange (item) {\n      return item.is_exchange && item.exchange_item\n    },\n    getStepperlabel (returnStatus) {\n      var title = ''\n      var icon = ''\n      if (returnStatus === 'STARTED' || returnStatus === 'IN_TRANSIT' || returnStatus === 'RECEIVED') {\n        title = this.ACTIVE\n        icon = 'hourglass_top'\n      } else if (returnStatus === 'COMPLETED') {\n        title = this.COMPLETED\n        icon = 'done'\n      } else if (returnStatus === 'CANCELED') {\n        title = this.CANCELED\n        icon = 'block'\n      }\n      return { title, icon }\n    }\n  },\n\n  mounted () {\n    this.getStepperlabel()\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}