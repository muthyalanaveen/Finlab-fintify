{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/map.js","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/map.js","mtime":1651253223417},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1649977087118}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9uYXZlZW5tdXRoeWFsYS9Eb2N1bWVudHMvUHJvamVjdHMvcmV0dXJuc19wb3J0YWxfdWkvcmV0dXJuc19wb3J0YWxfdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwoKLyogZXNsaW50LWRpc2FibGUgcHJvbWlzZS9wYXJhbS1uYW1lcyAqLwppbXBvcnQgZ29vZ2xlTWFwc1NlcnZpY2UgZnJvbSAnQC9jb21tb24vZ29vZ2xlTWFwcy5zZXJ2aWNlJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IHsgQ09OU1RBTlRTIH0gZnJvbSAnQC9jb25zdGFudHMvaW5kZXguanMnOwppbXBvcnQgeyByZXR1cm5TaGlwcGluZ09wdGlvbnMsIGRlbGF5IH0gZnJvbSAnQC91dGlscyc7CmV4cG9ydCBmdW5jdGlvbiBnZXROZWFyYnlTdG9yZXMoX3gpIHsKICByZXR1cm4gX2dldE5lYXJieVN0b3Jlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIHJldHVybnMgZW1wdHkgc3RyaW5nIGlmIG5vIGV4cHJlc3MgcmV0dXJucwoKZnVuY3Rpb24gX2dldE5lYXJieVN0b3JlcygpIHsKICBfZ2V0TmVhcmJ5U3RvcmVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHNoaXBwaW5nT3B0aW9ucykgewogICAgdmFyIHNoaXBwaW5nQWRkcmVzcywgZXhwcmVzc1JldHVybnM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IHN0b3JlLmdldHRlcnNbJ3JldHVybnMvZ2V0QWRkcmVzcyddOwogICAgICAgICAgICBleHByZXNzUmV0dXJucyA9IGdldEV4cHJlc3NSZXR1cm5zKHNoaXBwaW5nT3B0aW9ucyk7CgogICAgICAgICAgICBpZiAoZXhwcmVzc1JldHVybnMpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBFeHByZXNzIFJldHVybnMgQXZhaWxhYmxlJyk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdyZXR1cm5zL2ZldGNoTmVhcmJ5Q2FycmllcnMnLCB7CiAgICAgICAgICAgICAgY2FycmllcjogZXhwcmVzc1JldHVybnMsCiAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiBzaGlwcGluZ0FkZHJlc3MKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2dldE5lYXJieVN0b3Jlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0RXhwcmVzc1JldHVybnMoc2hpcHBpbmdPcHRpb25zKSB7CiAgcmV0dXJuIHNoaXBwaW5nT3B0aW9ucy5maW5kKGZ1bmN0aW9uIChvcHRpb24pIHsKICAgIHJldHVybiBvcHRpb24udHlwZSA9PT0gQ09OU1RBTlRTLlJFVFVSTl9NRVRIT0RTLkVYUFJFU1NfUkVUVVJOUzsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0U2hpcHBpbmdBZGRyZXNzKCkgewogIHJldHVybiBfZ2V0U2hpcHBpbmdBZGRyZXNzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXRTaGlwcGluZ0FkZHJlc3MoKSB7CiAgX2dldFNoaXBwaW5nQWRkcmVzcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICB2YXIgc2hpcHBpbmdBZGRyZXNzLCBsYXRMbmcsIG1hcmtlcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IHN0b3JlLmdldHRlcnNbJ3JldHVybnMvZm9ybWF0dGVkU2hpcHBpbmdBZGRyZXNzJ107CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGdvb2dsZU1hcHNTZXJ2aWNlLmdldExhdExuZyhzaGlwcGluZ0FkZHJlc3MpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgbGF0TG5nID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIG1hcmtlciA9IHsKICAgICAgICAgICAgICBsYXQ6IGxhdExuZy5sYXQsCiAgICAgICAgICAgICAgbG5nOiBsYXRMbmcubG5nCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgcG9zaXRpb246IG1hcmtlciwKICAgICAgICAgICAgICBhZGRyZXNzOiBzaGlwcGluZ0FkZHJlc3MKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwogIHJldHVybiBfZ2V0U2hpcHBpbmdBZGRyZXNzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBjaGVja0ZvckV4cHJlc3NEcm9wb2ZmT3B0aW9ucyhfeDIsIF94MykgewogIHJldHVybiBfY2hlY2tGb3JFeHByZXNzRHJvcG9mZk9wdGlvbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQovKioKICoKICogQHBhcmFtIHsqfSBnZXR0aW5nQ29vcmRzCiAqIEByZXR1cm5zIHBsYWNlc1RvQ29vcmRzCiAqLwoKZnVuY3Rpb24gX2NoZWNrRm9yRXhwcmVzc0Ryb3BvZmZPcHRpb25zKCkgewogIF9jaGVja0ZvckV4cHJlc3NEcm9wb2ZmT3B0aW9ucyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocmV0dXJuTWV0aG9kcywgcG9saWN5UmV0dXJuTWV0aG9kcykgewogICAgdmFyIGV4cHJlc3NSZXR1cm5zRW5hYmxlZCwgX3BvbGljeSRwb2xpY3lfcmV0dXJuLCBfcG9saWN5JGZlYXR1cmVfZmxhZ3MsIHBvbGljeSwgbmVhcmJ5Q2FycmllcnM7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZXhwcmVzc1JldHVybnNFbmFibGVkID0gZmFsc2U7CiAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgcG9saWN5ID0gc3RvcmUuZ2V0dGVyc1sncmV0dXJucy9wb2xpY2llcyddOwogICAgICAgICAgICBleHByZXNzUmV0dXJuc0VuYWJsZWQgPSBwb2xpY3kgPT09IG51bGwgfHwgcG9saWN5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3BvbGljeSRwb2xpY3lfcmV0dXJuID0gcG9saWN5LnBvbGljeV9yZXR1cm5fbWV0aG9kcykgPT09IG51bGwgfHwgX3BvbGljeSRwb2xpY3lfcmV0dXJuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcG9saWN5JHBvbGljeV9yZXR1cm4uZmluZChmdW5jdGlvbiAobWV0aG9kKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC50eXBlID09PSBDT05TVEFOVFMuUkVUVVJOX01FVEhPRFMuRVhQUkVTU19SRVRVUk5TOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmICghKChfcG9saWN5JGZlYXR1cmVfZmxhZ3MgPSBwb2xpY3kuZmVhdHVyZV9mbGFncykgIT09IG51bGwgJiYgX3BvbGljeSRmZWF0dXJlX2ZsYWdzICE9PSB2b2lkIDAgJiYgX3BvbGljeSRmZWF0dXJlX2ZsYWdzLm1hcF9lbmFibGVkICYmIGV4cHJlc3NSZXR1cm5zRW5hYmxlZCkpIHsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgcmV0dXJuIGZpbmRBbGxFeHByZXNzUmV0dXJuTG9jYXRpb25zKHJldHVybk1ldGhvZHMsIHBvbGljeVJldHVybk1ldGhvZHMsIGZhbHNlKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIG5lYXJieUNhcnJpZXJzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgIGV4cHJlc3NSZXR1cm5zRW5hYmxlZCA9IG5lYXJieUNhcnJpZXJzLnBsYWNlc1RvQ29vcmRzLmxlbmd0aCA+IDA7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDExOwogICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQzLnQwKTsKCiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZXhwcmVzc1JldHVybnNFbmFibGVkKTsKCiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCAxMV1dKTsKICB9KSk7CiAgcmV0dXJuIF9jaGVja0ZvckV4cHJlc3NEcm9wb2ZmT3B0aW9ucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0RHJvcG9mZkxvY2F0aW9ucyhfeDQpIHsKICByZXR1cm4gX2dldERyb3BvZmZMb2NhdGlvbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldERyb3BvZmZMb2NhdGlvbnMoKSB7CiAgX2dldERyb3BvZmZMb2NhdGlvbnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGdldHRpbmdDb29yZHMpIHsKICAgIHZhciBwbGFjZXMsIG1hcmtlcnMsIGksIGxhdExuZywgbWFya2VyOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcGxhY2VzID0gc3RvcmUuZ2V0dGVyc1sncmV0dXJucy9nZXROZWFyYnlDYXJyaWVycyddOyAvLyBpZiBvbmx5IGNoZWNraW5nIGlmIG5lYXJieSBjYXJyaWVycyBleGlzdCwgZG9udCBnZXQgdGhlIGNvb3JkcwoKICAgICAgICAgICAgaWYgKGdldHRpbmdDb29yZHMpIHsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBwbGFjZXMpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgbWFya2VycyA9IFtdOwogICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGlmICghKGkgPCBwbGFjZXMubGVuZ3RoKSkgewogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgcmV0dXJuIGRlbGF5KDUwMCk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICByZXR1cm4gZ29vZ2xlTWFwc1NlcnZpY2UuZ2V0TGF0TG5nKHBsYWNlc1tpXS5mb3JtYXR0ZWRBZGRyZXNzKTsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBsYXRMbmcgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgbWFya2VyID0gewogICAgICAgICAgICAgIGxhdDogbGF0TG5nLmxhdCwKICAgICAgICAgICAgICBsbmc6IGxhdExuZy5sbmcKICAgICAgICAgICAgfTsKICAgICAgICAgICAgbWFya2Vycy5wdXNoKHsKICAgICAgICAgICAgICBpY29uOiBwbGFjZXNbaV0uaWNvbiwKICAgICAgICAgICAgICBwb3NpdGlvbjogbWFya2VyLAogICAgICAgICAgICAgIGFkZHJlc3M6IHBsYWNlc1tpXS5mb3JtYXR0ZWRBZGRyZXNzLAogICAgICAgICAgICAgIGRpc3RhbmNlOiBwbGFjZXNbaV0uZGlzdGFuY2UgIT09IG51bGwgPyBwbGFjZXNbaV0uZGlzdGFuY2UgOiBDT05TVEFOVFMuVU5LTk9XTiwKICAgICAgICAgICAgICBjbG9zaW5nVGltZTogcGxhY2VzW2ldLm9wZW5pbmdIb3Vycy50b2RheUNsb3NpbmdUaW1lICE9PSBudWxsID8gcGxhY2VzW2ldLm9wZW5pbmdIb3Vycy50b2RheUNsb3NpbmdUaW1lIDogQ09OU1RBTlRTLlVOS05PV04KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgaSsrOwogICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBtYXJrZXJzKTsKCiAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNCk7CiAgfSkpOwogIHJldHVybiBfZ2V0RHJvcG9mZkxvY2F0aW9ucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZmluZEFsbEV4cHJlc3NSZXR1cm5Mb2NhdGlvbnMoX3g1LCBfeDYsIF94NykgewogIHJldHVybiBfZmluZEFsbEV4cHJlc3NSZXR1cm5Mb2NhdGlvbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2ZpbmRBbGxFeHByZXNzUmV0dXJuTG9jYXRpb25zKCkgewogIF9maW5kQWxsRXhwcmVzc1JldHVybkxvY2F0aW9ucyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocmV0dXJuTWV0aG9kcywgcG9saWN5UmV0dXJuTWV0aG9kcywgZ2V0dGluZ0Nvb3JkcykgewogICAgdmFyIHNoaXBwaW5nQWRkcmVzcywgcGxhY2VzVG9Db29yZHMsIHNoaXBwaW5nT3B0aW9uczsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghZ2V0dGluZ0Nvb3JkcykgewogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gZ2V0U2hpcHBpbmdBZGRyZXNzKCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3MgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHBsYWNlc1RvQ29vcmRzID0gW107CiAgICAgICAgICAgIHNoaXBwaW5nT3B0aW9ucyA9IHJldHVyblNoaXBwaW5nT3B0aW9ucyhyZXR1cm5NZXRob2RzLCBwb2xpY3lSZXR1cm5NZXRob2RzKTsKCiAgICAgICAgICAgIGlmICghKHNoaXBwaW5nT3B0aW9ucyAmJiBzaGlwcGluZ09wdGlvbnMubGVuZ3RoID4gMCAmJiBnZXRFeHByZXNzUmV0dXJucyhzaGlwcGluZ09wdGlvbnMpKSkgewogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gOTsKICAgICAgICAgICAgcmV0dXJuIGdldE5lYXJieVN0b3JlcyhzaGlwcGluZ09wdGlvbnMpOwoKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgcmV0dXJuIGdldERyb3BvZmZMb2NhdGlvbnMoZ2V0dGluZ0Nvb3Jkcyk7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgcGxhY2VzVG9Db29yZHMgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzczogc2hpcHBpbmdBZGRyZXNzLAogICAgICAgICAgICAgIHBsYWNlc1RvQ29vcmRzOiBwbGFjZXNUb0Nvb3JkcwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNSk7CiAgfSkpOwogIHJldHVybiBfZmluZEFsbEV4cHJlc3NSZXR1cm5Mb2NhdGlvbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},{"version":3,"sources":["/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/map.js"],"names":["googleMapsService","store","CONSTANTS","returnShippingOptions","delay","getNearbyStores","shippingOptions","shippingAddress","getters","expressReturns","getExpressReturns","Error","dispatch","carrier","find","option","type","RETURN_METHODS","EXPRESS_RETURNS","getShippingAddress","getLatLng","latLng","marker","lat","lng","position","address","checkForExpressDropoffOptions","returnMethods","policyReturnMethods","expressReturnsEnabled","policy","policy_return_methods","method","feature_flags","map_enabled","findAllExpressReturnLocations","nearbyCarriers","placesToCoords","length","console","error","getDropoffLocations","gettingCoords","places","markers","i","formattedAddress","push","icon","distance","UNKNOWN","closingTime","openingHours","todayClosingTime"],"mappings":"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","sourcesContent":["/* eslint-disable promise/param-names */\nimport googleMapsService from '@/common/googleMaps.service'\nimport store from '../store'\nimport { CONSTANTS } from '@/constants/index.js'\nimport { returnShippingOptions, delay } from '@/utils'\n\nexport async function getNearbyStores (shippingOptions) {\n  const shippingAddress = store.getters['returns/getAddress']\n  const expressReturns = getExpressReturns(shippingOptions)\n\n  if (!expressReturns) {\n    throw new Error('No Express Returns Available')\n  }\n\n  await store.dispatch('returns/fetchNearbyCarriers', {\n    carrier: expressReturns,\n    shippingAddress: shippingAddress\n  }) // puts nearby carriers in the store\n}\n\n// returns empty string if no express returns\nexport function getExpressReturns (shippingOptions) {\n  return shippingOptions.find(\n    (option) =>\n      option.type === CONSTANTS.RETURN_METHODS.EXPRESS_RETURNS\n  )\n}\n\nexport async function getShippingAddress () {\n  const shippingAddress = store.getters['returns/formattedShippingAddress']\n  const latLng = await googleMapsService.getLatLng(shippingAddress)\n\n  const marker = {\n    lat: latLng.lat,\n    lng: latLng.lng\n  }\n\n  return { position: marker, address: shippingAddress }\n}\n\nexport async function checkForExpressDropoffOptions (returnMethods, policyReturnMethods) {\n  let expressReturnsEnabled = false\n\n  try {\n    const policy = store.getters['returns/policies']\n\n    expressReturnsEnabled = policy?.policy_return_methods?.find(\n      (method) =>\n        method.type === CONSTANTS.RETURN_METHODS.EXPRESS_RETURNS\n    )\n\n    if (policy.feature_flags?.map_enabled && expressReturnsEnabled) {\n      const nearbyCarriers = await findAllExpressReturnLocations(returnMethods, policyReturnMethods, false)\n      expressReturnsEnabled = nearbyCarriers.placesToCoords.length > 0\n    }\n  } catch (e) {\n    console.error(e)\n  }\n\n  return expressReturnsEnabled\n}\n\n/**\n *\n * @param {*} gettingCoords\n * @returns placesToCoords\n */\n\nexport async function getDropoffLocations (gettingCoords) {\n  const places = store.getters['returns/getNearbyCarriers']\n\n  // if only checking if nearby carriers exist, dont get the coords\n  if (!gettingCoords) {\n    return places\n  }\n\n  const markers = []\n\n  for (var i = 0; i < places.length; i++) {\n    await delay(500)\n    const latLng = await googleMapsService.getLatLng(places[i].formattedAddress)\n    const marker = {\n      lat: latLng.lat,\n      lng: latLng.lng\n    }\n    markers.push({ icon: places[i].icon, position: marker, address: places[i].formattedAddress, distance: places[i].distance !== null ? places[i].distance : CONSTANTS.UNKNOWN, closingTime: places[i].openingHours.todayClosingTime !== null ? places[i].openingHours.todayClosingTime : CONSTANTS.UNKNOWN })\n  }\n\n  return markers\n}\n\nexport async function findAllExpressReturnLocations (returnMethods, policyReturnMethods, gettingCoords) {\n  let shippingAddress\n\n  if (gettingCoords) { // dont need shipping address coords for inital map check\n    shippingAddress = await getShippingAddress()\n  }\n\n  let placesToCoords = []\n  const shippingOptions = returnShippingOptions(returnMethods, policyReturnMethods)\n\n  if (shippingOptions && shippingOptions.length > 0 && getExpressReturns(shippingOptions)) { // correct shipping options available\n    await getNearbyStores(shippingOptions)\n    placesToCoords = await getDropoffLocations(gettingCoords)\n  }\n\n  return { shippingAddress: shippingAddress, placesToCoords: placesToCoords }\n}\n"]}]}