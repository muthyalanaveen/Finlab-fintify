{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/MapController.js","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/MapController.js","mtime":1663867175570},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1649977087118}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9uYXZlZW5tdXRoeWFsYS9Eb2N1bWVudHMvUHJvamVjdHMvcmV0dXJuc19wb3J0YWxfdWkvcmV0dXJuc19wb3J0YWxfdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CgovKiBlc2xpbnQtZGlzYWJsZSBwcm9taXNlL3BhcmFtLW5hbWVzICovCmltcG9ydCBnb29nbGVNYXBzU2VydmljZSBmcm9tICdAL2NvbW1vbi9nb29nbGVNYXBzLnNlcnZpY2UnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOwppbXBvcnQgeyBDT05TVEFOVFMgfSBmcm9tICdAL2NvbnN0YW50cy9pbmRleC5qcyc7CmltcG9ydCB7IGdldERpc3RhbmNlVmFsdWUgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IHsgcmV0dXJuU2hpcHBpbmdPcHRpb25zIH0gZnJvbSAnQC9jb250cm9sbGVycy9SZXR1cm5NZXRob2RzQ29udHJvbGxlci5qcyc7CmV4cG9ydCBmdW5jdGlvbiBnZXROZWFyYnlTdG9yZXMoX3gpIHsKICByZXR1cm4gX2dldE5lYXJieVN0b3Jlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9IC8vIHJldHVybnMgZW1wdHkgc3RyaW5nIGlmIG5vIGV4cHJlc3MgcmV0dXJucwoKZnVuY3Rpb24gX2dldE5lYXJieVN0b3JlcygpIHsKICBfZ2V0TmVhcmJ5U3RvcmVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHNoaXBwaW5nT3B0aW9ucykgewogICAgdmFyIHNoaXBwaW5nQWRkcmVzcywgZXhwcmVzc1JldHVybnM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IHN0b3JlLmdldHRlcnNbJ3JldHVybnMvZ2V0QWRkcmVzcyddOwogICAgICAgICAgICBleHByZXNzUmV0dXJucyA9IGdldEV4cHJlc3NSZXR1cm5zKHNoaXBwaW5nT3B0aW9ucyk7CgogICAgICAgICAgICBpZiAoZXhwcmVzc1JldHVybnMpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBFeHByZXNzIFJldHVybnMgQXZhaWxhYmxlJyk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdyZXR1cm5zL2ZldGNoTmVhcmJ5Q2FycmllcnMnLCB7CiAgICAgICAgICAgICAgY2FycmllcjogZXhwcmVzc1JldHVybnMsCiAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiBzaGlwcGluZ0FkZHJlc3MKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2dldE5lYXJieVN0b3Jlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0RXhwcmVzc1JldHVybnMoc2hpcHBpbmdPcHRpb25zKSB7CiAgcmV0dXJuIHNoaXBwaW5nT3B0aW9ucy5maW5kKGZ1bmN0aW9uIChvcHRpb24pIHsKICAgIHJldHVybiBvcHRpb24udHlwZSA9PT0gQ09OU1RBTlRTLlJFVFVSTl9NRVRIT0RTLkVYUFJFU1NfUkVUVVJOUzsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0U2hpcHBpbmdBZGRyZXNzKCkgewogIHJldHVybiBfZ2V0U2hpcHBpbmdBZGRyZXNzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXRTaGlwcGluZ0FkZHJlc3MoKSB7CiAgX2dldFNoaXBwaW5nQWRkcmVzcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICB2YXIgc2hpcHBpbmdBZGRyZXNzLCBsYXRMbmcsIG1hcmtlcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IHN0b3JlLmdldHRlcnNbJ3JldHVybnMvZm9ybWF0dGVkU2hpcHBpbmdBZGRyZXNzJ107CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGdvb2dsZU1hcHNTZXJ2aWNlLmdldExhdExuZyhzaGlwcGluZ0FkZHJlc3MpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgbGF0TG5nID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIG1hcmtlciA9IHsKICAgICAgICAgICAgICBsYXQ6IGxhdExuZy5sYXQsCiAgICAgICAgICAgICAgbG5nOiBsYXRMbmcubG5nCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgcG9zaXRpb246IG1hcmtlciwKICAgICAgICAgICAgICBhZGRyZXNzOiBzaGlwcGluZ0FkZHJlc3MKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwogIHJldHVybiBfZ2V0U2hpcHBpbmdBZGRyZXNzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBjaGVja01hcHNQb2xpY3koKSB7CiAgdmFyIF9wb2xpY3kkZmVhdHVyZV9mbGFnczsKCiAgdmFyIHBvbGljeSA9IHN0b3JlLmdldHRlcnNbJ3JldHVybnMvcG9saWNpZXMnXTsKICB2YXIgaXNUZXJyaXRvcnlPck1pbGl0YXJ5ID0gc3RvcmUuZ2V0dGVyc1snb3JkZXIvaXNUZXJyaXRvcnlPck1pbGl0YXJ5J107CiAgdmFyIGlzUE9Cb3ggPSBzdG9yZS5nZXR0ZXJzWydvcmRlci9pc1BPQm94J107CiAgdmFyIGlzVmFsaWRNYXBzQWRkcmVzcyA9ICFpc1RlcnJpdG9yeU9yTWlsaXRhcnkgJiYgIWlzUE9Cb3g7CiAgcmV0dXJuICgoX3BvbGljeSRmZWF0dXJlX2ZsYWdzID0gcG9saWN5LmZlYXR1cmVfZmxhZ3MpID09PSBudWxsIHx8IF9wb2xpY3kkZmVhdHVyZV9mbGFncyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BvbGljeSRmZWF0dXJlX2ZsYWdzLm1hcF9lbmFibGVkKSAmJiBpc1ZhbGlkTWFwc0FkZHJlc3M7Cn0KZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRm9yRXhwcmVzc0Ryb3BvZmZPcHRpb25zKF94MiwgX3gzKSB7CiAgcmV0dXJuIF9jaGVja0ZvckV4cHJlc3NEcm9wb2ZmT3B0aW9ucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Ci8qKgogKgogKiBAcGFyYW0geyp9IGdldHRpbmdDb29yZHMKICogQHJldHVybnMgcGxhY2VzVG9Db29yZHMKICovCgpmdW5jdGlvbiBfY2hlY2tGb3JFeHByZXNzRHJvcG9mZk9wdGlvbnMoKSB7CiAgX2NoZWNrRm9yRXhwcmVzc0Ryb3BvZmZPcHRpb25zID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhyZXR1cm5NZXRob2RzLCBwb2xpY3lSZXR1cm5NZXRob2RzKSB7CiAgICB2YXIgZXhwcmVzc1JldHVybnNFbmFibGVkLCBfcG9saWN5JHBvbGljeV9yZXR1cm4sIHBvbGljeSwgbmVhcmJ5Q2FycmllcnM7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgZXhwcmVzc1JldHVybnNFbmFibGVkID0gZmFsc2U7CiAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgcG9saWN5ID0gc3RvcmUuZ2V0dGVyc1sncmV0dXJucy9wb2xpY2llcyddOwogICAgICAgICAgICBleHByZXNzUmV0dXJuc0VuYWJsZWQgPSBwb2xpY3kgPT09IG51bGwgfHwgcG9saWN5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3BvbGljeSRwb2xpY3lfcmV0dXJuID0gcG9saWN5LnBvbGljeV9yZXR1cm5fbWV0aG9kcykgPT09IG51bGwgfHwgX3BvbGljeSRwb2xpY3lfcmV0dXJuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcG9saWN5JHBvbGljeV9yZXR1cm4uZmluZChmdW5jdGlvbiAobWV0aG9kKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC50eXBlID09PSBDT05TVEFOVFMuUkVUVVJOX01FVEhPRFMuRVhQUkVTU19SRVRVUk5TOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmICghKGNoZWNrTWFwc1BvbGljeSgpICYmIGV4cHJlc3NSZXR1cm5zRW5hYmxlZCkpIHsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgIHJldHVybiBmaW5kQWxsRXhwcmVzc1JldHVybkxvY2F0aW9ucyhyZXR1cm5NZXRob2RzLCBwb2xpY3lSZXR1cm5NZXRob2RzLCBmYWxzZSAvLyBnZXR0aW5nIGNvb3JkcwogICAgICAgICAgICApOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgbmVhcmJ5Q2FycmllcnMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgZXhwcmVzc1JldHVybnNFbmFibGVkID0gbmVhcmJ5Q2FycmllcnMucGxhY2VzVG9Db29yZHMubGVuZ3RoID4gMDsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgZXhwcmVzc1JldHVybnNFbmFibGVkID0gZmFsc2U7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNDsKICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0My50MCk7CgogICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIGV4cHJlc3NSZXR1cm5zRW5hYmxlZCk7CgogICAgICAgICAgY2FzZSAxODoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMSwgMTRdXSk7CiAgfSkpOwogIHJldHVybiBfY2hlY2tGb3JFeHByZXNzRHJvcG9mZk9wdGlvbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldERyb3BvZmZMb2NhdGlvbnMoX3g0KSB7CiAgcmV0dXJuIF9nZXREcm9wb2ZmTG9jYXRpb25zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXREcm9wb2ZmTG9jYXRpb25zKCkgewogIF9nZXREcm9wb2ZmTG9jYXRpb25zID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChnZXR0aW5nQ29vcmRzKSB7CiAgICB2YXIgcGxhY2VzLCBtYXJrZXJzLCBpLCBsYXRMbmcsIG1hcmtlcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHBsYWNlcyA9IHN0b3JlLmdldHRlcnNbJ3JldHVybnMvZ2V0TmVhcmJ5Q2FycmllcnMnXTsgLy8gaWYgb25seSBjaGVja2luZyBpZiBuZWFyYnkgY2FycmllcnMgZXhpc3QsIGRvbnQgZ2V0IHRoZSBjb29yZHMKCiAgICAgICAgICAgIGlmIChnZXR0aW5nQ29vcmRzKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgcGxhY2VzKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIG1hcmtlcnMgPSBbXTsKICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBpZiAoIShpIDwgcGxhY2VzLmxlbmd0aCkpIHsKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgIHJldHVybiBnb29nbGVNYXBzU2VydmljZS5nZXRMYXRMbmcocGxhY2VzW2ldLmZvcm1hdHRlZEFkZHJlc3MpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgbGF0TG5nID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgIG1hcmtlciA9IHsKICAgICAgICAgICAgICBsYXQ6IGxhdExuZy5sYXQsCiAgICAgICAgICAgICAgbG5nOiBsYXRMbmcubG5nCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIG1hcmtlcnMucHVzaCh7CiAgICAgICAgICAgICAgY2FycmllcjogcGxhY2VzW2ldLAogICAgICAgICAgICAgIHBvc2l0aW9uOiBtYXJrZXIsCiAgICAgICAgICAgICAgZGlzdGFuY2U6IHBsYWNlc1tpXS5kaXN0YW5jZSAhPT0gbnVsbCA/IHBsYWNlc1tpXS5kaXN0YW5jZSA6IENPTlNUQU5UUy5VTktOT1dOLAogICAgICAgICAgICAgIGNsb3NpbmdUaW1lOiBwbGFjZXNbaV0ub3BlbmluZ0hvdXJzLnRvZGF5Q2xvc2luZ1RpbWUgIT09IG51bGwgPyBwbGFjZXNbaV0ub3BlbmluZ0hvdXJzLnRvZGF5Q2xvc2luZ1RpbWUgOiBDT05TVEFOVFMuVU5LTk9XTgogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBpKys7CiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIG1hcmtlcnMpOwoKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0KTsKICB9KSk7CiAgcmV0dXJuIF9nZXREcm9wb2ZmTG9jYXRpb25zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBmaW5kQWxsRXhwcmVzc1JldHVybkxvY2F0aW9ucyhfeDUsIF94NiwgX3g3KSB7CiAgcmV0dXJuIF9maW5kQWxsRXhwcmVzc1JldHVybkxvY2F0aW9ucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZmluZEFsbEV4cHJlc3NSZXR1cm5Mb2NhdGlvbnMoKSB7CiAgX2ZpbmRBbGxFeHByZXNzUmV0dXJuTG9jYXRpb25zID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShyZXR1cm5NZXRob2RzLCBwb2xpY3lSZXR1cm5NZXRob2RzLCBnZXR0aW5nQ29vcmRzKSB7CiAgICB2YXIgc2hpcHBpbmdBZGRyZXNzLCBwbGFjZXNUb0Nvb3Jkcywgc2hpcHBpbmdPcHRpb25zOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCFnZXR0aW5nQ29vcmRzKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBnZXRTaGlwcGluZ0FkZHJlc3MoKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcGxhY2VzVG9Db29yZHMgPSBbXTsKICAgICAgICAgICAgc2hpcHBpbmdPcHRpb25zID0gcmV0dXJuU2hpcHBpbmdPcHRpb25zKHJldHVybk1ldGhvZHMsIHBvbGljeVJldHVybk1ldGhvZHMpOwoKICAgICAgICAgICAgaWYgKCEoc2hpcHBpbmdPcHRpb25zICYmIHNoaXBwaW5nT3B0aW9ucy5sZW5ndGggPiAwICYmIGdldEV4cHJlc3NSZXR1cm5zKHNoaXBwaW5nT3B0aW9ucykpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA5OwogICAgICAgICAgICByZXR1cm4gZ2V0TmVhcmJ5U3RvcmVzKHNoaXBwaW5nT3B0aW9ucyk7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExOwogICAgICAgICAgICByZXR1cm4gZ2V0RHJvcG9mZkxvY2F0aW9ucyhnZXR0aW5nQ29vcmRzKTsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBwbGFjZXNUb0Nvb3JkcyA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiBzaGlwcGluZ0FkZHJlc3MsCiAgICAgICAgICAgICAgcGxhY2VzVG9Db29yZHM6IHBsYWNlc1RvQ29vcmRzCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU1KTsKICB9KSk7CiAgcmV0dXJuIF9maW5kQWxsRXhwcmVzc1JldHVybkxvY2F0aW9ucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gcmV0dXJuTWV0aG9kc1dpdGhpbkRpc3RhbmNlKGhhc01hcCkgewogIHZhciBfc3RvcmUkZ2V0dGVycyRyZXR1cm4sIF9wb3RlbnRpYWxSZXR1cm5NZXRobywgX3BvdGVudGlhbFJldHVybk1ldGhvMjsKCiAgdmFyIHBvdGVudGlhbFJldHVybk1ldGhvZHMgPSBzdG9yZS5nZXR0ZXJzWydyZXR1cm5zL3JldHVybk1ldGhvZHMnXTsKICB2YXIgaXNUZXJyaXRvcnlPck1pbGl0YXJ5ID0gc3RvcmUuZ2V0dGVyc1snb3JkZXIvaXNUZXJyaXRvcnlPck1pbGl0YXJ5J107CiAgdmFyIGlzUE9Cb3ggPSBzdG9yZS5nZXR0ZXJzWydvcmRlci9pc1BPQm94J107CiAgdmFyIHVzZU1haWxJbm5vdmF0aW9ucyA9IChfc3RvcmUkZ2V0dGVycyRyZXR1cm4gPSBzdG9yZS5nZXR0ZXJzWydyZXR1cm5zL3BvbGljaWVzJ10pID09PSBudWxsIHx8IF9zdG9yZSRnZXR0ZXJzJHJldHVybiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0b3JlJGdldHRlcnMkcmV0dXJuLnVzZV9tYWlsX2lubm92YXRpb25zOwoKICBpZiAoaGFzTWFwKSB7CiAgICBwb3RlbnRpYWxSZXR1cm5NZXRob2RzID0gcG90ZW50aWFsUmV0dXJuTWV0aG9kcy5maWx0ZXIoZnVuY3Rpb24gKG1ldGhvZCkgewogICAgICByZXR1cm4gbWV0aG9kLnR5cGUgIT09IENPTlNUQU5UUy5SRVRVUk5fTUVUSE9EUy5FWFBSRVNTX1JFVFVSTlM7CiAgICB9KTsKICB9CgogIGlmIChpc1RlcnJpdG9yeU9yTWlsaXRhcnkgfHwgaXNQT0JveCkgewogICAgcG90ZW50aWFsUmV0dXJuTWV0aG9kcyA9IHBvdGVudGlhbFJldHVybk1ldGhvZHMuZmlsdGVyKGZ1bmN0aW9uIChtZXRob2QpIHsKICAgICAgdmFyIF9tZXRob2Qkc2hpcHBpbmdfY2xhczsKCiAgICAgIHJldHVybiAobWV0aG9kID09PSBudWxsIHx8IG1ldGhvZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWV0aG9kLnR5cGUpICE9PSBDT05TVEFOVFMuUkVUVVJOX01FVEhPRFMuTUFJTF9CQUNLIHx8IChtZXRob2QgPT09IG51bGwgfHwgbWV0aG9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX21ldGhvZCRzaGlwcGluZ19jbGFzID0gbWV0aG9kLnNoaXBwaW5nX2NsYXNzZXMpID09PSBudWxsIHx8IF9tZXRob2Qkc2hpcHBpbmdfY2xhcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21ldGhvZCRzaGlwcGluZ19jbGFzLmluY2x1ZGVzKCdpbm5vdmF0aW9ucycpKTsKICAgIH0pOwogIH0gLy8gY2hlY2sgaWYgb25seSBtYWlsYmFjayBhZmZpbGlhdGUgaXMgaW5ub3ZhdGlvbnMsIGlmIHNvLCBkbyBub3QgZmlsdGVyIG91dAoKCiAgdmFyIG1haWxiYWNrQWZmbGlhdGVDb3VudCA9IChfcG90ZW50aWFsUmV0dXJuTWV0aG8gPSBwb3RlbnRpYWxSZXR1cm5NZXRob2RzKSA9PT0gbnVsbCB8fCBfcG90ZW50aWFsUmV0dXJuTWV0aG8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wb3RlbnRpYWxSZXR1cm5NZXRoby5maWx0ZXIoZnVuY3Rpb24gKG1ldGhvZCkgewogICAgcmV0dXJuIChtZXRob2QgPT09IG51bGwgfHwgbWV0aG9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXRob2QudHlwZSkgPT09ICdtYWlsLWJhY2snOwogIH0pLmxlbmd0aDsKCiAgaWYgKCF1c2VNYWlsSW5ub3ZhdGlvbnMgJiYgbWFpbGJhY2tBZmZsaWF0ZUNvdW50ID4gMSkgewogICAgcG90ZW50aWFsUmV0dXJuTWV0aG9kcyA9IHBvdGVudGlhbFJldHVybk1ldGhvZHMuZmlsdGVyKGZ1bmN0aW9uIChtZXRob2QpIHsKICAgICAgdmFyIF9tZXRob2Qkc2hpcHBpbmdfY2xhczI7CgogICAgICByZXR1cm4gIShtZXRob2QgIT09IG51bGwgJiYgbWV0aG9kICE9PSB2b2lkIDAgJiYgKF9tZXRob2Qkc2hpcHBpbmdfY2xhczIgPSBtZXRob2Quc2hpcHBpbmdfY2xhc3NlcykgIT09IG51bGwgJiYgX21ldGhvZCRzaGlwcGluZ19jbGFzMiAhPT0gdm9pZCAwICYmIF9tZXRob2Qkc2hpcHBpbmdfY2xhczIuaW5jbHVkZXMoJ2lubm92YXRpb25zJykpOwogICAgfSk7CiAgfQoKICByZXR1cm4gKF9wb3RlbnRpYWxSZXR1cm5NZXRobzIgPSBwb3RlbnRpYWxSZXR1cm5NZXRob2RzKSA9PT0gbnVsbCB8fCBfcG90ZW50aWFsUmV0dXJuTWV0aG8yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcG90ZW50aWFsUmV0dXJuTWV0aG8yLnNsaWNlKCkuc29ydChmdW5jdGlvbiAobWV0aG9kMSwgbWV0aG9kMikgewogICAgcmV0dXJuIG1ldGhvZDEucmV0dXJuTWV0aG9kUmFuayAtIG1ldGhvZDIucmV0dXJuTWV0aG9kUmFuayB8fCBnZXREaXN0YW5jZVZhbHVlKG1ldGhvZDEgPT09IG51bGwgfHwgbWV0aG9kMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWV0aG9kMS5kaXN0YW5jZSkgLSBnZXREaXN0YW5jZVZhbHVlKG1ldGhvZDIgPT09IG51bGwgfHwgbWV0aG9kMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWV0aG9kMi5kaXN0YW5jZSk7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdGVkUmV0dXJuTWV0aG9kKGNhcnJpZXIpIHsKICBzdG9yZS5jb21taXQoJ3JldHVybnMvc2V0U2VsZWN0ZWRSZXR1cm5NZXRob2QnLCBjYXJyaWVyKTsKfQ=="},{"version":3,"sources":["/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/MapController.js"],"names":["googleMapsService","store","CONSTANTS","getDistanceValue","returnShippingOptions","getNearbyStores","shippingOptions","shippingAddress","getters","expressReturns","getExpressReturns","Error","dispatch","carrier","find","option","type","RETURN_METHODS","EXPRESS_RETURNS","getShippingAddress","getLatLng","latLng","marker","lat","lng","position","address","checkMapsPolicy","policy","isTerritoryOrMilitary","isPOBox","isValidMapsAddress","feature_flags","map_enabled","checkForExpressDropoffOptions","returnMethods","policyReturnMethods","expressReturnsEnabled","policy_return_methods","method","findAllExpressReturnLocations","nearbyCarriers","placesToCoords","length","console","error","getDropoffLocations","gettingCoords","places","markers","i","formattedAddress","push","distance","UNKNOWN","closingTime","openingHours","todayClosingTime","returnMethodsWithinDistance","hasMap","potentialReturnMethods","useMailInnovations","use_mail_innovations","filter","MAIL_BACK","shipping_classes","includes","mailbackAffliateCount","slice","sort","method1","method2","returnMethodRank","setSelectedReturnMethod","commit"],"mappings":"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","sourcesContent":["/* eslint-disable promise/param-names */\nimport googleMapsService from '@/common/googleMaps.service'\nimport store from '../store'\nimport { CONSTANTS } from '@/constants/index.js'\nimport { getDistanceValue } from '@/utils'\nimport { returnShippingOptions } from '@/controllers/ReturnMethodsController.js'\n\nexport async function getNearbyStores (shippingOptions) {\n  const shippingAddress = store.getters['returns/getAddress']\n  const expressReturns = getExpressReturns(shippingOptions)\n\n  if (!expressReturns) {\n    throw new Error('No Express Returns Available')\n  }\n\n  await store.dispatch('returns/fetchNearbyCarriers', {\n    carrier: expressReturns,\n    shippingAddress: shippingAddress\n  }) // puts nearby carriers in the store\n}\n\n// returns empty string if no express returns\nexport function getExpressReturns (shippingOptions) {\n  return shippingOptions.find(\n    (option) => option.type === CONSTANTS.RETURN_METHODS.EXPRESS_RETURNS\n  )\n}\n\nexport async function getShippingAddress () {\n  const shippingAddress = store.getters['returns/formattedShippingAddress']\n  const latLng = await googleMapsService.getLatLng(shippingAddress)\n\n  const marker = {\n    lat: latLng.lat,\n    lng: latLng.lng\n  }\n\n  return { position: marker, address: shippingAddress }\n}\n\nexport function checkMapsPolicy () {\n  const policy = store.getters['returns/policies']\n  const isTerritoryOrMilitary = store.getters['order/isTerritoryOrMilitary']\n  const isPOBox = store.getters['order/isPOBox']\n\n  const isValidMapsAddress = !isTerritoryOrMilitary && !isPOBox\n\n  return policy.feature_flags?.map_enabled && isValidMapsAddress\n}\n\nexport async function checkForExpressDropoffOptions (\n  returnMethods,\n  policyReturnMethods\n) {\n  let expressReturnsEnabled = false\n\n  try {\n    const policy = store.getters['returns/policies']\n\n    expressReturnsEnabled = policy?.policy_return_methods?.find(\n      (method) => method.type === CONSTANTS.RETURN_METHODS.EXPRESS_RETURNS\n    )\n\n    if (checkMapsPolicy() && expressReturnsEnabled) {\n      const nearbyCarriers = await findAllExpressReturnLocations(\n        returnMethods,\n        policyReturnMethods,\n        false // getting coords\n      )\n      expressReturnsEnabled = nearbyCarriers.placesToCoords.length > 0\n    } else {\n      expressReturnsEnabled = false\n    }\n  } catch (e) {\n    console.error(e)\n  }\n  return expressReturnsEnabled\n}\n\n/**\n *\n * @param {*} gettingCoords\n * @returns placesToCoords\n */\n\nexport async function getDropoffLocations (gettingCoords) {\n  const places = store.getters['returns/getNearbyCarriers']\n\n  // if only checking if nearby carriers exist, dont get the coords\n  if (!gettingCoords) {\n    return places\n  }\n  const markers = []\n\n  for (var i = 0; i < places.length; i++) {\n    const latLng = await googleMapsService.getLatLng(\n      places[i].formattedAddress\n    )\n    const marker = {\n      lat: latLng.lat,\n      lng: latLng.lng\n    }\n    markers.push({\n      carrier: places[i],\n      position: marker,\n      distance:\n        places[i].distance !== null ? places[i].distance : CONSTANTS.UNKNOWN,\n      closingTime:\n        places[i].openingHours.todayClosingTime !== null\n          ? places[i].openingHours.todayClosingTime\n          : CONSTANTS.UNKNOWN\n    })\n  }\n\n  return markers\n}\n\nexport async function findAllExpressReturnLocations (\n  returnMethods,\n  policyReturnMethods,\n  gettingCoords\n) {\n  let shippingAddress\n\n  if (gettingCoords) {\n    // dont need shipping address coords for inital map check\n    shippingAddress = await getShippingAddress()\n  }\n\n  let placesToCoords = []\n  const shippingOptions = returnShippingOptions(\n    returnMethods,\n    policyReturnMethods\n  )\n\n  if (\n    shippingOptions &&\n    shippingOptions.length > 0 &&\n    getExpressReturns(shippingOptions)\n  ) {\n    // correct shipping options available\n    await getNearbyStores(shippingOptions)\n    placesToCoords = await getDropoffLocations(gettingCoords)\n  }\n  return { shippingAddress: shippingAddress, placesToCoords: placesToCoords }\n}\n\nexport function returnMethodsWithinDistance (hasMap) {\n  let potentialReturnMethods = store.getters['returns/returnMethods']\n  const isTerritoryOrMilitary = store.getters['order/isTerritoryOrMilitary']\n  const isPOBox = store.getters['order/isPOBox']\n  const useMailInnovations = store.getters['returns/policies']?.use_mail_innovations\n\n  if (hasMap) {\n    potentialReturnMethods = potentialReturnMethods.filter(\n      (method) => method.type !== CONSTANTS.RETURN_METHODS.EXPRESS_RETURNS\n    )\n  }\n  if (isTerritoryOrMilitary || isPOBox) {\n    potentialReturnMethods = potentialReturnMethods.filter(\n      (method) => method?.type !== CONSTANTS.RETURN_METHODS.MAIL_BACK ||\n      method?.shipping_classes?.includes('innovations')\n    )\n  }\n  // check if only mailback affiliate is innovations, if so, do not filter out\n  const mailbackAffliateCount = potentialReturnMethods?.filter((method) => method?.type === 'mail-back').length\n  if (!useMailInnovations && mailbackAffliateCount > 1) {\n    potentialReturnMethods = potentialReturnMethods.filter((method) => !method?.shipping_classes?.includes('innovations'))\n  }\n  return potentialReturnMethods?.slice()\n    .sort(\n      (method1, method2) =>\n        method1.returnMethodRank - method2.returnMethodRank ||\n        getDistanceValue(method1?.distance) -\n          getDistanceValue(method2?.distance)\n    )\n}\n\nexport function setSelectedReturnMethod (carrier) {\n  store.commit('returns/setSelectedReturnMethod', carrier)\n}\n"]}]}