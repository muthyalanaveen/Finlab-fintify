{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/map.js","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/map.js","mtime":1651609347370},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1649977087118}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9uYXZlZW5tdXRoeWFsYS9Eb2N1bWVudHMvUHJvamVjdHMvcmV0dXJuc19wb3J0YWxfdWkvcmV0dXJuc19wb3J0YWxfdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgZ29vZ2xlTWFwc1NlcnZpY2UgZnJvbSAnQC9jb21tb24vZ29vZ2xlTWFwcy5zZXJ2aWNlJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IHsgQ09OU1RBTlRTIH0gZnJvbSAnQC9jb25zdGFudHMvaW5kZXguanMnOwppbXBvcnQgeyByZXR1cm5TaGlwcGluZ09wdGlvbnMgfSBmcm9tICdAL3V0aWxzJzsKZXhwb3J0IGZ1bmN0aW9uIGdldE5lYXJieVN0b3JlcyhfeCkgewogIHJldHVybiBfZ2V0TmVhcmJ5U3RvcmVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8gcmV0dXJucyBlbXB0eSBzdHJpbmcgaWYgbm8gZXhwcmVzcyByZXR1cm5zCgpmdW5jdGlvbiBfZ2V0TmVhcmJ5U3RvcmVzKCkgewogIF9nZXROZWFyYnlTdG9yZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoc2hpcHBpbmdPcHRpb25zKSB7CiAgICB2YXIgc2hpcHBpbmdBZGRyZXNzLCBleHByZXNzUmV0dXJuczsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzID0gc3RvcmUuZ2V0dGVyc1sncmV0dXJucy9nZXRBZGRyZXNzJ107CiAgICAgICAgICAgIGV4cHJlc3NSZXR1cm5zID0gZ2V0RXhwcmVzc1JldHVybnMoc2hpcHBpbmdPcHRpb25zKTsKCiAgICAgICAgICAgIGlmICghKGV4cHJlc3NSZXR1cm5zID09PSBudWxsKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEV4cHJlc3MgUmV0dXJucyBBdmFpbGFibGUnKTsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ3JldHVybnMvZmV0Y2hOZWFyYnlDYXJyaWVycycsIHsKICAgICAgICAgICAgICBjYXJyaWVyOiBleHByZXNzUmV0dXJucywKICAgICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3M6IHNoaXBwaW5nQWRkcmVzcwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfZ2V0TmVhcmJ5U3RvcmVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRFeHByZXNzUmV0dXJucyhzaGlwcGluZ09wdGlvbnMpIHsKICB2YXIgaW5kZXggPSBzaGlwcGluZ09wdGlvbnMuZmluZEluZGV4KGZ1bmN0aW9uIChvcHRpb24pIHsKICAgIHJldHVybiBvcHRpb24udHlwZSA9PT0gQ09OU1RBTlRTLlJFVFVSTl9NRVRIT0RTLkVYUFJFU1NfUkVUVVJOUzsKICB9KTsKICByZXR1cm4gaW5kZXggIT09IC0xID8gc2hpcHBpbmdPcHRpb25zW2luZGV4XSA6IG51bGw7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldFNoaXBwaW5nQWRkcmVzcygpIHsKICByZXR1cm4gX2dldFNoaXBwaW5nQWRkcmVzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0U2hpcHBpbmdBZGRyZXNzKCkgewogIF9nZXRTaGlwcGluZ0FkZHJlc3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgdmFyIHNoaXBwaW5nQWRkcmVzcywgbGF0TG5nLCBtYXJrZXI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBzaGlwcGluZ0FkZHJlc3MgPSBzdG9yZS5nZXR0ZXJzWydyZXR1cm5zL2Zvcm1hdHRlZFNoaXBwaW5nQWRkcmVzcyddOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBnb29nbGVNYXBzU2VydmljZS5nZXRMYXRMbmcoc2hpcHBpbmdBZGRyZXNzKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGxhdExuZyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBtYXJrZXIgPSB7CiAgICAgICAgICAgICAgbGF0OiBsYXRMbmcubGF0LAogICAgICAgICAgICAgIGxuZzogbGF0TG5nLmxuZwogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgIHBvc2l0aW9uOiBtYXJrZXIsCiAgICAgICAgICAgICAgYWRkcmVzczogc2hpcHBpbmdBZGRyZXNzCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2dldFNoaXBwaW5nQWRkcmVzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gY2hlY2tGb3JFeHByZXNzRHJvcG9mZk9wdGlvbnMoX3gyLCBfeDMpIHsKICByZXR1cm4gX2NoZWNrRm9yRXhwcmVzc0Ryb3BvZmZPcHRpb25zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9jaGVja0ZvckV4cHJlc3NEcm9wb2ZmT3B0aW9ucygpIHsKICBfY2hlY2tGb3JFeHByZXNzRHJvcG9mZk9wdGlvbnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJldHVybk1ldGhvZHMsIHBvbGljeVJldHVybk1ldGhvZHMpIHsKICAgIHZhciBleHByZXNzUmV0dXJuc0VuYWJsZWQsIHBvbGljeSwgbmVhcmJ5Q2FycmllcnM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBleHByZXNzUmV0dXJuc0VuYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICBwb2xpY3kgPSBzdG9yZS5nZXR0ZXJzWydyZXR1cm5zL3BvbGljaWVzJ107CgogICAgICAgICAgICBpZiAocG9saWN5LmZlYXR1cmVfZmxhZ3MubWFwX2VuYWJsZWQpIHsKICAgICAgICAgICAgICBleHByZXNzUmV0dXJuc0VuYWJsZWQgPSBwb2xpY3kucG9saWN5X3JldHVybl9tZXRob2RzLmZpbmRJbmRleChmdW5jdGlvbiAobWV0aG9kKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kLnR5cGUgPT09IENPTlNUQU5UUy5SRVRVUk5fTUVUSE9EUy5FWFBSRVNTX1JFVFVSTlM7CiAgICAgICAgICAgICAgfSkgIT09IC0xOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIWV4cHJlc3NSZXR1cm5zRW5hYmxlZCkgewogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICByZXR1cm4gZmluZEFsbEV4cHJlc3NSZXR1cm5Mb2NhdGlvbnMocmV0dXJuTWV0aG9kcywgcG9saWN5UmV0dXJuTWV0aG9kcyk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBuZWFyYnlDYXJyaWVycyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgaWYgKG5lYXJieUNhcnJpZXJzLnBsYWNlc1RvQ29vcmRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgIGV4cHJlc3NSZXR1cm5zRW5hYmxlZCA9IGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDExOwogICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQzLnQwKTsKCiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZXhwcmVzc1JldHVybnNFbmFibGVkKTsKCiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCAxMV1dKTsKICB9KSk7CiAgcmV0dXJuIF9jaGVja0ZvckV4cHJlc3NEcm9wb2ZmT3B0aW9ucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0RHJvcG9mZkxvY2F0aW9ucygpIHsKICByZXR1cm4gX2dldERyb3BvZmZMb2NhdGlvbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldERyb3BvZmZMb2NhdGlvbnMoKSB7CiAgX2dldERyb3BvZmZMb2NhdGlvbnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgdmFyIHBsYWNlcywgbWFya2VycywgaSwgbGF0TG5nLCBtYXJrZXI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAvLyByZXR1cm5zIHBsYWNlc1RvQ29vcmRzCiAgICAgICAgICAgIHBsYWNlcyA9IHN0b3JlLmdldHRlcnNbJ3JldHVybnMvZ2V0TmVhcmJ5Q2FycmllcnMnXTsKICAgICAgICAgICAgbWFya2VycyA9IFtdOwogICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGlmICghKGkgPCBwbGFjZXMubGVuZ3RoKSkgewogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIGdvb2dsZU1hcHNTZXJ2aWNlLmdldExhdExuZyhwbGFjZXNbaV0uZm9ybWF0dGVkQWRkcmVzcyk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBsYXRMbmcgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgbWFya2VyID0gewogICAgICAgICAgICAgIGxhdDogbGF0TG5nLmxhdCwKICAgICAgICAgICAgICBsbmc6IGxhdExuZy5sbmcKICAgICAgICAgICAgfTsKICAgICAgICAgICAgbWFya2Vycy5wdXNoKHsKICAgICAgICAgICAgICBpY29uOiBwbGFjZXNbaV0uaWNvbiwKICAgICAgICAgICAgICBwb3NpdGlvbjogbWFya2VyLAogICAgICAgICAgICAgIGFkZHJlc3M6IHBsYWNlc1tpXS5mb3JtYXR0ZWRBZGRyZXNzLAogICAgICAgICAgICAgIGRpc3RhbmNlOiBwbGFjZXNbaV0uZGlzdGFuY2UgIT09IG51bGwgPyBwbGFjZXNbaV0uZGlzdGFuY2UgOiBDT05TVEFOVFMuVU5LTk9XTiwKICAgICAgICAgICAgICBjbG9zaW5nVGltZTogcGxhY2VzW2ldLm9wZW5pbmdIb3Vycy50b2RheUNsb3NpbmdUaW1lICE9PSBudWxsID8gcGxhY2VzW2ldLm9wZW5pbmdIb3Vycy50b2RheUNsb3NpbmdUaW1lIDogQ09OU1RBTlRTLlVOS05PV04KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBpKys7CiAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIG1hcmtlcnMpOwoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0KTsKICB9KSk7CiAgcmV0dXJuIF9nZXREcm9wb2ZmTG9jYXRpb25zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBmaW5kQWxsRXhwcmVzc1JldHVybkxvY2F0aW9ucyhfeDQsIF94NSkgewogIHJldHVybiBfZmluZEFsbEV4cHJlc3NSZXR1cm5Mb2NhdGlvbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2ZpbmRBbGxFeHByZXNzUmV0dXJuTG9jYXRpb25zKCkgewogIF9maW5kQWxsRXhwcmVzc1JldHVybkxvY2F0aW9ucyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUocmV0dXJuTWV0aG9kcywgcG9saWN5UmV0dXJuTWV0aG9kcykgewogICAgdmFyIHNoaXBwaW5nQWRkcmVzcywgcGxhY2VzVG9Db29yZHMsIHNoaXBwaW5nT3B0aW9uczsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGdldFNoaXBwaW5nQWRkcmVzcygpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgIHBsYWNlc1RvQ29vcmRzID0gW107CiAgICAgICAgICAgIHNoaXBwaW5nT3B0aW9ucyA9IHJldHVyblNoaXBwaW5nT3B0aW9ucyhyZXR1cm5NZXRob2RzLCBwb2xpY3lSZXR1cm5NZXRob2RzKTsKCiAgICAgICAgICAgIGlmICghKHNoaXBwaW5nT3B0aW9ucyAmJiBzaGlwcGluZ09wdGlvbnMubGVuZ3RoID4gMCAmJiBnZXRFeHByZXNzUmV0dXJucyhzaGlwcGluZ09wdGlvbnMpICE9PSBudWxsKSkgewogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgcmV0dXJuIGdldE5lYXJieVN0b3JlcyhzaGlwcGluZ09wdGlvbnMpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgcmV0dXJuIGdldERyb3BvZmZMb2NhdGlvbnMoKTsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBwbGFjZXNUb0Nvb3JkcyA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiBzaGlwcGluZ0FkZHJlc3MsCiAgICAgICAgICAgICAgcGxhY2VzVG9Db29yZHM6IHBsYWNlc1RvQ29vcmRzCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU1KTsKICB9KSk7CiAgcmV0dXJuIF9maW5kQWxsRXhwcmVzc1JldHVybkxvY2F0aW9ucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/map.js"],"names":["googleMapsService","store","CONSTANTS","returnShippingOptions","getNearbyStores","shippingOptions","shippingAddress","getters","expressReturns","getExpressReturns","Error","dispatch","carrier","index","findIndex","option","type","RETURN_METHODS","EXPRESS_RETURNS","getShippingAddress","getLatLng","latLng","marker","lat","lng","position","address","checkForExpressDropoffOptions","returnMethods","policyReturnMethods","expressReturnsEnabled","policy","feature_flags","map_enabled","policy_return_methods","method","findAllExpressReturnLocations","nearbyCarriers","placesToCoords","length","console","error","getDropoffLocations","places","markers","i","formattedAddress","push","icon","distance","UNKNOWN","closingTime","openingHours","todayClosingTime"],"mappings":"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","sourcesContent":["import googleMapsService from '@/common/googleMaps.service'\nimport store from '../store'\nimport { CONSTANTS } from '@/constants/index.js'\nimport { returnShippingOptions } from '@/utils'\n\nexport async function getNearbyStores (shippingOptions) {\n  const shippingAddress = store.getters['returns/getAddress']\n  const expressReturns = getExpressReturns(shippingOptions)\n  if (expressReturns === null) {\n    throw new Error('No Express Returns Available')\n  }\n  await store.dispatch('returns/fetchNearbyCarriers', {\n    carrier: expressReturns,\n    shippingAddress: shippingAddress\n  }) // puts nearby carriers in the store\n}\n\n// returns empty string if no express returns\nexport function getExpressReturns (shippingOptions) {\n  const index = shippingOptions.findIndex(option => option.type === CONSTANTS.RETURN_METHODS.EXPRESS_RETURNS)\n  return index !== -1 ? shippingOptions[index] : null\n}\n\nexport async function getShippingAddress () {\n  const shippingAddress = store.getters['returns/formattedShippingAddress']\n  const latLng = await googleMapsService.getLatLng(shippingAddress)\n  const marker = {\n    lat: latLng.lat,\n    lng: latLng.lng\n  }\n  return { position: marker, address: shippingAddress }\n}\n\nexport async function checkForExpressDropoffOptions (returnMethods, policyReturnMethods) {\n  let expressReturnsEnabled = false\n  try {\n    const policy = store.getters['returns/policies']\n    if (policy.feature_flags.map_enabled) {\n      expressReturnsEnabled = policy.policy_return_methods.findIndex(method => method.type === CONSTANTS.RETURN_METHODS.EXPRESS_RETURNS) !== -1\n    }\n    if (expressReturnsEnabled) {\n      const nearbyCarriers = await findAllExpressReturnLocations(returnMethods, policyReturnMethods)\n      if (nearbyCarriers.placesToCoords.length === 0) {\n        expressReturnsEnabled = false\n      }\n    }\n  } catch (e) {\n    console.error(e)\n  }\n  return expressReturnsEnabled\n}\n\nexport async function getDropoffLocations () { // returns placesToCoords\n  const places = store.getters['returns/getNearbyCarriers']\n  const markers = []\n  for (var i = 0; i < places.length; i++) {\n    const latLng = await googleMapsService.getLatLng(places[i].formattedAddress)\n    const marker = {\n      lat: latLng.lat,\n      lng: latLng.lng\n    }\n    markers.push({ icon: places[i].icon, position: marker, address: places[i].formattedAddress, distance: places[i].distance !== null ? places[i].distance : CONSTANTS.UNKNOWN, closingTime: places[i].openingHours.todayClosingTime !== null ? places[i].openingHours.todayClosingTime : CONSTANTS.UNKNOWN })\n  }\n  return markers\n}\n\nexport async function findAllExpressReturnLocations (returnMethods, policyReturnMethods) {\n  const shippingAddress = await getShippingAddress()\n  let placesToCoords = []\n  const shippingOptions = returnShippingOptions(returnMethods, policyReturnMethods)\n  if (shippingOptions && shippingOptions.length > 0 && getExpressReturns(shippingOptions) !== null) { // correct shipping options available\n    await getNearbyStores(shippingOptions)\n    placesToCoords = await getDropoffLocations()\n  }\n  return { shippingAddress: shippingAddress, placesToCoords: placesToCoords }\n}\n"]}]}