{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/store/modules/returns/actions.js","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/store/modules/returns/actions.js","mtime":1650554756663},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1649977087118}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25hdmVlbm11dGh5YWxhL0RvY3VtZW50cy9Qcm9qZWN0cy9yZXR1cm5zX3BvcnRhbF91aS9yZXR1cm5zX3BvcnRhbF91aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbmF2ZWVubXV0aHlhbGEvRG9jdW1lbnRzL1Byb2plY3RzL3JldHVybnNfcG9ydGFsX3VpL3JldHVybnNfcG9ydGFsX3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9hc3luY0l0ZXJhdG9yIGZyb20gIi9Vc2Vycy9uYXZlZW5tdXRoeWFsYS9Eb2N1bWVudHMvUHJvamVjdHMvcmV0dXJuc19wb3J0YWxfdWkvcmV0dXJuc19wb3J0YWxfdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jSXRlcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgZ29vZ2xlTWFwc1NlcnZpY2UgZnJvbSAnQC9jb21tb24vZ29vZ2xlTWFwcy5zZXJ2aWNlJzsKaW1wb3J0IHsgdG9SZWd1bGFyVGltZSwgdmFsaWRTdG9yZU5hbWUsIGlzU3RvcmVXaXRoaW5EaXN0YW5jZSwgZ2V0TG9va3VwS2V5cyB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7IC8vIGluIEhITU0gZm9ybWF0Cgp2YXIgZm9ybWF0dGVkVGltZSA9IGZ1bmN0aW9uIGZvcm1hdHRlZFRpbWUoaG91cnMsIG1pbnV0ZXMpIHsKICByZXR1cm4gcGFyc2VJbnQoIiIuY29uY2F0KGhvdXJzKS5jb25jYXQobWludXRlcyA8IDEwID8gJzAnICsgbWludXRlcyA6IG1pbnV0ZXMpKTsKfTsKCnZhciBzbGVlcCA9IGZ1bmN0aW9uIHNsZWVwKG1pbGxpc2Vjb25kcykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZSwgbWlsbGlzZWNvbmRzKTsKICB9KTsKfTsKCnZhciBHT09HTEVfTUFQX0FQSV9DQUNIRSA9IHt9Owp2YXIgR09PR0xFX01BUF9BUElfUElEX0NBQ0hFID0ge307CnZhciBHT09HTEVfTUFQX0FQSV9ESVNUX0NBQ0hFID0ge307Cgp2YXIgZ2V0Rm9ybWF0dGVkU3RvcmVUaW1lID0gZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkU3RvcmVUaW1lKHBsYWNlKSB7CiAgdmFyIF9wbGFjZSRvcGVuaW5nX2hvdXJzLCBfcGxhY2Ukb3BlbmluZ19ob3VycyQ7CgogIHZhciBjbG9zaW5nSG91cnMgPSBudWxsOwogIHZhciBvcGVuaW5nSG91cnMgPSBudWxsOwogIHZhciBvcGVuaW5nTWludXRlcyA9IG51bGw7CiAgdmFyIGNsb3NpbmdNaW51dGVzID0gbnVsbDsKICB2YXIgZGF5SW5kZXggPSAnJzsKICB2YXIgY3VycmVudERheSA9IG5ldyBEYXRlKCkuZ2V0RGF5KCk7CiAgdmFyIGN1cnJlbnRUaW1lID0gZm9ybWF0dGVkVGltZShuZXcgRGF0ZSgpLmdldEhvdXJzKCksIG5ldyBEYXRlKCkuZ2V0TWludXRlcygpKTsKICB2YXIgdG9kYXlzUGVyaW9kQXJyID0gKF9wbGFjZSRvcGVuaW5nX2hvdXJzID0gcGxhY2Uub3BlbmluZ19ob3VycykgPT09IG51bGwgfHwgX3BsYWNlJG9wZW5pbmdfaG91cnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGxhY2Ukb3BlbmluZ19ob3VycyQgPSBfcGxhY2Ukb3BlbmluZ19ob3Vycy5wZXJpb2RzKSA9PT0gbnVsbCB8fCBfcGxhY2Ukb3BlbmluZ19ob3VycyQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGFjZSRvcGVuaW5nX2hvdXJzJC5maWx0ZXIoZnVuY3Rpb24gKHJlcWREYXkpIHsKICAgIHZhciBfcmVxZERheSRjbG9zZTsKCiAgICByZXR1cm4gKHJlcWREYXkgPT09IG51bGwgfHwgcmVxZERheSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yZXFkRGF5JGNsb3NlID0gcmVxZERheS5jbG9zZSkgPT09IG51bGwgfHwgX3JlcWREYXkkY2xvc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXFkRGF5JGNsb3NlLmRheSkgPT09IGN1cnJlbnREYXk7CiAgfSk7IC8vIHRvZGF5c1BlcmlvZCBhcnJheSBjYW4gYmUgb2YgYW55IGxlbmd0aAoKICBpZiAodG9kYXlzUGVyaW9kQXJyKSB7CiAgICBpZiAoIXRvZGF5c1BlcmlvZEFyci5sZW5ndGgpIHsKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoZGF5LCBjb3VudCkgewogICAgICAgIHZhciBfcGxhY2Ukb3BlbmluZ19ob3VyczIsIF9wbGFjZSRvcGVuaW5nX2hvdXJzMzsKCiAgICAgICAgdmFyIGRheVBlcmlvZEFyciA9IChfcGxhY2Ukb3BlbmluZ19ob3VyczIgPSBwbGFjZS5vcGVuaW5nX2hvdXJzKSA9PT0gbnVsbCB8fCBfcGxhY2Ukb3BlbmluZ19ob3VyczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGxhY2Ukb3BlbmluZ19ob3VyczMgPSBfcGxhY2Ukb3BlbmluZ19ob3VyczIucGVyaW9kcykgPT09IG51bGwgfHwgX3BsYWNlJG9wZW5pbmdfaG91cnMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGxhY2Ukb3BlbmluZ19ob3VyczMuZmlsdGVyKGZ1bmN0aW9uIChyZXFkRGF5KSB7CiAgICAgICAgICB2YXIgX3JlcWREYXkkY2xvc2UyOwoKICAgICAgICAgIHJldHVybiAocmVxZERheSA9PT0gbnVsbCB8fCByZXFkRGF5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3JlcWREYXkkY2xvc2UyID0gcmVxZERheS5jbG9zZSkgPT09IG51bGwgfHwgX3JlcWREYXkkY2xvc2UyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVxZERheSRjbG9zZTIuZGF5KSA9PT0gZGF5OwogICAgICAgIH0pOwoKICAgICAgICBpZiAoIWRheVBlcmlvZEFyci5sZW5ndGgpIHsKICAgICAgICAgIHJldHVybiAiY29udGludWUiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX2RheVBlcmlvZEFyciQsIF9kYXlQZXJpb2RBcnIkJG9wZW4sIF9kYXlQZXJpb2RBcnIkMiwgX2RheVBlcmlvZEFyciQyJG9wZW47CgogICAgICAgICAgZGF5SW5kZXggPSBNYXRoLmFicyhkYXkgLSBjdXJyZW50RGF5KSA+IDEgPyBkYXkgOiAnJzsgLy8gc2hvdyBkYXkgb2YgdGhlIHdlZWsgb25seSB3aGVuIGl0cyBub3QgdGhlIG5leHQgZGF5CgogICAgICAgICAgb3BlbmluZ0hvdXJzID0gKF9kYXlQZXJpb2RBcnIkID0gZGF5UGVyaW9kQXJyWzBdKSA9PT0gbnVsbCB8fCBfZGF5UGVyaW9kQXJyJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9kYXlQZXJpb2RBcnIkJG9wZW4gPSBfZGF5UGVyaW9kQXJyJC5vcGVuKSA9PT0gbnVsbCB8fCBfZGF5UGVyaW9kQXJyJCRvcGVuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGF5UGVyaW9kQXJyJCRvcGVuLmhvdXJzOwogICAgICAgICAgb3BlbmluZ01pbnV0ZXMgPSAoX2RheVBlcmlvZEFyciQyID0gZGF5UGVyaW9kQXJyWzBdKSA9PT0gbnVsbCB8fCBfZGF5UGVyaW9kQXJyJDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZGF5UGVyaW9kQXJyJDIkb3BlbiA9IF9kYXlQZXJpb2RBcnIkMi5vcGVuKSA9PT0gbnVsbCB8fCBfZGF5UGVyaW9kQXJyJDIkb3BlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RheVBlcmlvZEFyciQyJG9wZW4ubWludXRlczsKICAgICAgICAgIHJldHVybiAiYnJlYWsiOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8vIGhvbGlkYXkKICAgICAgZm9yICh2YXIgZGF5ID0gKGN1cnJlbnREYXkgKyAxKSAlIDcsIGNvdW50ID0gMDsgY291bnQgPCA2OyBkYXkgPSAoZGF5ICsgMSkgJSA3LCBjb3VudCsrKSB7CiAgICAgICAgdmFyIF9yZXQgPSBfbG9vcChkYXksIGNvdW50KTsKCiAgICAgICAgaWYgKF9yZXQgPT09ICJjb250aW51ZSIpIGNvbnRpbnVlOwogICAgICAgIGlmIChfcmV0ID09PSAiYnJlYWsiKSBicmVhazsKICAgICAgfQogICAgfSBlbHNlIGlmICh0b2RheXNQZXJpb2RBcnIubGVuZ3RoID09PSAxKSB7CiAgICAgIHZhciBfdG9kYXlzUGVyaW9kQXJyJCwgX3RvZGF5c1BlcmlvZEFyciQkY2xvLCBfdG9kYXlzUGVyaW9kQXJyJDIsIF90b2RheXNQZXJpb2RBcnIkMiRjbCwgX3RvZGF5c1BlcmlvZEFyciQzLCBfdG9kYXlzUGVyaW9kQXJyJDMkb3AsIF90b2RheXNQZXJpb2RBcnIkNCwgX3RvZGF5c1BlcmlvZEFyciQ0JG9wOwoKICAgICAgLy8gb25seSBvbmUgY2xvc2luZyBhbmQgb3BlbmluZyB0aW1lIGZvciBhIGRheQogICAgICBjbG9zaW5nSG91cnMgPSAoX3RvZGF5c1BlcmlvZEFyciQgPSB0b2RheXNQZXJpb2RBcnJbMF0pID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RvZGF5c1BlcmlvZEFyciQkY2xvID0gX3RvZGF5c1BlcmlvZEFyciQuY2xvc2UpID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkJGNsbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvZGF5c1BlcmlvZEFyciQkY2xvLmhvdXJzOwogICAgICBjbG9zaW5nTWludXRlcyA9IChfdG9kYXlzUGVyaW9kQXJyJDIgPSB0b2RheXNQZXJpb2RBcnJbMF0pID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90b2RheXNQZXJpb2RBcnIkMiRjbCA9IF90b2RheXNQZXJpb2RBcnIkMi5jbG9zZSkgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciQyJGNsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdG9kYXlzUGVyaW9kQXJyJDIkY2wubWludXRlczsKICAgICAgb3BlbmluZ0hvdXJzID0gKF90b2RheXNQZXJpb2RBcnIkMyA9IHRvZGF5c1BlcmlvZEFyclswXSkgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RvZGF5c1BlcmlvZEFyciQzJG9wID0gX3RvZGF5c1BlcmlvZEFyciQzLm9wZW4pID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkMyRvcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvZGF5c1BlcmlvZEFyciQzJG9wLmhvdXJzOwogICAgICBvcGVuaW5nTWludXRlcyA9IChfdG9kYXlzUGVyaW9kQXJyJDQgPSB0b2RheXNQZXJpb2RBcnJbMF0pID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90b2RheXNQZXJpb2RBcnIkNCRvcCA9IF90b2RheXNQZXJpb2RBcnIkNC5vcGVuKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJDQkb3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90b2RheXNQZXJpb2RBcnIkNCRvcC5taW51dGVzOwogICAgfSBlbHNlIHsKICAgICAgLy8gc3RvcmUgb3BlbiBpbiBicmVha3MgaW4gYSBkYXkKICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRvZGF5c1BlcmlvZEFyci5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICB2YXIgX3RvZGF5c1BlcmlvZEFyciRpbmRlLCBfdG9kYXlzUGVyaW9kQXJyJGluZGUyLCBfdG9kYXlzUGVyaW9kQXJyJGluZGUzLCBfdG9kYXlzUGVyaW9kQXJyJGluZGU0LCBfdG9kYXlzUGVyaW9kQXJyJGluZGUxMywgX3RvZGF5c1BlcmlvZEFyciRpbmRlMTQsIF90b2RheXNQZXJpb2RBcnIkaW5kZTE1LCBfdG9kYXlzUGVyaW9kQXJyJGluZGUxNiwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMTcsIF90b2RheXNQZXJpb2RBcnIkaW5kZTE4LCBfdG9kYXlzUGVyaW9kQXJyJGluZGUxOSwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMjA7CgogICAgICAgIGlmIChjdXJyZW50VGltZSA8IGZvcm1hdHRlZFRpbWUoKF90b2RheXNQZXJpb2RBcnIkaW5kZSA9IHRvZGF5c1BlcmlvZEFycltpbmRleF0pID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkaW5kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90b2RheXNQZXJpb2RBcnIkaW5kZTIgPSBfdG9kYXlzUGVyaW9kQXJyJGluZGUub3BlbikgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvZGF5c1BlcmlvZEFyciRpbmRlMi5ob3VycywgKF90b2RheXNQZXJpb2RBcnIkaW5kZTMgPSB0b2RheXNQZXJpb2RBcnJbaW5kZXhdKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGUzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RvZGF5c1BlcmlvZEFyciRpbmRlNCA9IF90b2RheXNQZXJpb2RBcnIkaW5kZTMub3BlbikgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvZGF5c1BlcmlvZEFyciRpbmRlNC5taW51dGVzKSAvLyBjbG9zZWQ6IGJlZm9yZSBzdG9yZSBvcGVuaW5nCiAgICAgICAgKSB7CiAgICAgICAgICB2YXIgX3RvZGF5c1BlcmlvZEFyciRpbmRlNSwgX3RvZGF5c1BlcmlvZEFyciRpbmRlNiwgX3RvZGF5c1BlcmlvZEFyciRpbmRlNywgX3RvZGF5c1BlcmlvZEFyciRpbmRlOCwgX3RvZGF5c1BlcmlvZEFyciRpbmRlOSwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMTAsIF90b2RheXNQZXJpb2RBcnIkaW5kZTExLCBfdG9kYXlzUGVyaW9kQXJyJGluZGUxMjsKCiAgICAgICAgICBvcGVuaW5nSG91cnMgPSAoX3RvZGF5c1BlcmlvZEFyciRpbmRlNSA9IHRvZGF5c1BlcmlvZEFycltpbmRleF0pID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkaW5kZTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdG9kYXlzUGVyaW9kQXJyJGluZGU2ID0gX3RvZGF5c1BlcmlvZEFyciRpbmRlNS5vcGVuKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGU2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdG9kYXlzUGVyaW9kQXJyJGluZGU2LmhvdXJzOwogICAgICAgICAgb3BlbmluZ01pbnV0ZXMgPSAoX3RvZGF5c1BlcmlvZEFyciRpbmRlNyA9IHRvZGF5c1BlcmlvZEFycltpbmRleF0pID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkaW5kZTcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdG9kYXlzUGVyaW9kQXJyJGluZGU4ID0gX3RvZGF5c1BlcmlvZEFyciRpbmRlNy5vcGVuKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGU4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdG9kYXlzUGVyaW9kQXJyJGluZGU4Lm1pbnV0ZXM7CiAgICAgICAgICBjbG9zaW5nSG91cnMgPSAoX3RvZGF5c1BlcmlvZEFyciRpbmRlOSA9IHRvZGF5c1BlcmlvZEFycltpbmRleF0pID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkaW5kZTkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdG9kYXlzUGVyaW9kQXJyJGluZGUxMCA9IF90b2RheXNQZXJpb2RBcnIkaW5kZTkuY2xvc2UpID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkaW5kZTEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdG9kYXlzUGVyaW9kQXJyJGluZGUxMC5ob3VyczsKICAgICAgICAgIGNsb3NpbmdNaW51dGVzID0gKF90b2RheXNQZXJpb2RBcnIkaW5kZTExID0gdG9kYXlzUGVyaW9kQXJyW2luZGV4XSkgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMTEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdG9kYXlzUGVyaW9kQXJyJGluZGUxMiA9IF90b2RheXNQZXJpb2RBcnIkaW5kZTExLmNsb3NlKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGUxMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvZGF5c1BlcmlvZEFyciRpbmRlMTIubWludXRlczsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRpbWUgPj0gZm9ybWF0dGVkVGltZSgoX3RvZGF5c1BlcmlvZEFyciRpbmRlMTMgPSB0b2RheXNQZXJpb2RBcnJbaW5kZXhdKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGUxMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90b2RheXNQZXJpb2RBcnIkaW5kZTE0ID0gX3RvZGF5c1BlcmlvZEFyciRpbmRlMTMub3BlbikgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90b2RheXNQZXJpb2RBcnIkaW5kZTE0LmhvdXJzLCAoX3RvZGF5c1BlcmlvZEFyciRpbmRlMTUgPSB0b2RheXNQZXJpb2RBcnJbaW5kZXhdKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGUxNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90b2RheXNQZXJpb2RBcnIkaW5kZTE2ID0gX3RvZGF5c1BlcmlvZEFyciRpbmRlMTUub3BlbikgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90b2RheXNQZXJpb2RBcnIkaW5kZTE2Lm1pbnV0ZXMpICYmIGN1cnJlbnRUaW1lIDwgZm9ybWF0dGVkVGltZSgoX3RvZGF5c1BlcmlvZEFyciRpbmRlMTcgPSB0b2RheXNQZXJpb2RBcnJbaW5kZXhdKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGUxNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90b2RheXNQZXJpb2RBcnIkaW5kZTE4ID0gX3RvZGF5c1BlcmlvZEFyciRpbmRlMTcuY2xvc2UpID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkaW5kZTE4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdG9kYXlzUGVyaW9kQXJyJGluZGUxOC5ob3VycywgKF90b2RheXNQZXJpb2RBcnIkaW5kZTE5ID0gdG9kYXlzUGVyaW9kQXJyW2luZGV4XSkgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMTkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdG9kYXlzUGVyaW9kQXJyJGluZGUyMCA9IF90b2RheXNQZXJpb2RBcnIkaW5kZTE5LmNsb3NlKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGUyMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvZGF5c1BlcmlvZEFyciRpbmRlMjAubWludXRlcykpIHsKICAgICAgICAgIHZhciBfdG9kYXlzUGVyaW9kQXJyJGluZGUyMSwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMjIsIF90b2RheXNQZXJpb2RBcnIkaW5kZTIzLCBfdG9kYXlzUGVyaW9kQXJyJGluZGUyNCwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMjUsIF90b2RheXNQZXJpb2RBcnIkaW5kZTI2LCBfdG9kYXlzUGVyaW9kQXJyJGluZGUyNywgX3RvZGF5c1BlcmlvZEFyciRpbmRlMjg7CgogICAgICAgICAgLy8gc3RvcmUgaXMgb3BlbgogICAgICAgICAgY2xvc2luZ0hvdXJzID0gKF90b2RheXNQZXJpb2RBcnIkaW5kZTIxID0gdG9kYXlzUGVyaW9kQXJyW2luZGV4XSkgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMjEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdG9kYXlzUGVyaW9kQXJyJGluZGUyMiA9IF90b2RheXNQZXJpb2RBcnIkaW5kZTIxLmNsb3NlKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGUyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvZGF5c1BlcmlvZEFyciRpbmRlMjIuaG91cnM7CiAgICAgICAgICBjbG9zaW5nTWludXRlcyA9IChfdG9kYXlzUGVyaW9kQXJyJGluZGUyMyA9IHRvZGF5c1BlcmlvZEFycltpbmRleF0pID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkaW5kZTIzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RvZGF5c1BlcmlvZEFyciRpbmRlMjQgPSBfdG9kYXlzUGVyaW9kQXJyJGluZGUyMy5jbG9zZSkgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90b2RheXNQZXJpb2RBcnIkaW5kZTI0Lm1pbnV0ZXM7CiAgICAgICAgICBvcGVuaW5nSG91cnMgPSAoX3RvZGF5c1BlcmlvZEFyciRpbmRlMjUgPSB0b2RheXNQZXJpb2RBcnJbaW5kZXhdKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGUyNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90b2RheXNQZXJpb2RBcnIkaW5kZTI2ID0gX3RvZGF5c1BlcmlvZEFyciRpbmRlMjUub3BlbikgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMjYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90b2RheXNQZXJpb2RBcnIkaW5kZTI2LmhvdXJzOwogICAgICAgICAgb3BlbmluZ01pbnV0ZXMgPSAoX3RvZGF5c1BlcmlvZEFyciRpbmRlMjcgPSB0b2RheXNQZXJpb2RBcnJbaW5kZXhdKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJGluZGUyNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90b2RheXNQZXJpb2RBcnIkaW5kZTI4ID0gX3RvZGF5c1BlcmlvZEFyciRpbmRlMjcub3BlbikgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciRpbmRlMjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90b2RheXNQZXJpb2RBcnIkaW5kZTI4Lm1pbnV0ZXM7CiAgICAgICAgICBicmVhazsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMihfZGF5LCBfY291bnQpIHsKICAgICAgICAgICAgdmFyIF9wbGFjZSRvcGVuaW5nX2hvdXJzNCwgX3BsYWNlJG9wZW5pbmdfaG91cnM1OwoKICAgICAgICAgICAgdmFyIGRheVBlcmlvZEFyciA9IChfcGxhY2Ukb3BlbmluZ19ob3VyczQgPSBwbGFjZS5vcGVuaW5nX2hvdXJzKSA9PT0gbnVsbCB8fCBfcGxhY2Ukb3BlbmluZ19ob3VyczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGxhY2Ukb3BlbmluZ19ob3VyczUgPSBfcGxhY2Ukb3BlbmluZ19ob3VyczQucGVyaW9kcykgPT09IG51bGwgfHwgX3BsYWNlJG9wZW5pbmdfaG91cnM1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGxhY2Ukb3BlbmluZ19ob3VyczUuZmlsdGVyKGZ1bmN0aW9uIChyZXFkRGF5KSB7CiAgICAgICAgICAgICAgdmFyIF9yZXFkRGF5JGNsb3NlMzsKCiAgICAgICAgICAgICAgcmV0dXJuIChyZXFkRGF5ID09PSBudWxsIHx8IHJlcWREYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcmVxZERheSRjbG9zZTMgPSByZXFkRGF5LmNsb3NlKSA9PT0gbnVsbCB8fCBfcmVxZERheSRjbG9zZTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXFkRGF5JGNsb3NlMy5kYXkpID09PSBfZGF5OwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmICghZGF5UGVyaW9kQXJyLmxlbmd0aCkgewogICAgICAgICAgICAgIHJldHVybiAiY29udGludWUiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBfZGF5UGVyaW9kQXJyJDMsIF9kYXlQZXJpb2RBcnIkMyRvcGVuLCBfZGF5UGVyaW9kQXJyJDQsIF9kYXlQZXJpb2RBcnIkNCRvcGVuLCBfdG9kYXlzUGVyaW9kQXJyJDUsIF90b2RheXNQZXJpb2RBcnIkNSRjbCwgX3RvZGF5c1BlcmlvZEFyciQ2LCBfdG9kYXlzUGVyaW9kQXJyJDYkY2w7CgogICAgICAgICAgICAgIGRheUluZGV4ID0gTWF0aC5hYnMoX2RheSAtIGN1cnJlbnREYXkpID4gMSA/IF9kYXkgOiAnJzsKICAgICAgICAgICAgICBvcGVuaW5nSG91cnMgPSAoX2RheVBlcmlvZEFyciQzID0gZGF5UGVyaW9kQXJyWzBdKSA9PT0gbnVsbCB8fCBfZGF5UGVyaW9kQXJyJDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZGF5UGVyaW9kQXJyJDMkb3BlbiA9IF9kYXlQZXJpb2RBcnIkMy5vcGVuKSA9PT0gbnVsbCB8fCBfZGF5UGVyaW9kQXJyJDMkb3BlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RheVBlcmlvZEFyciQzJG9wZW4uaG91cnM7CiAgICAgICAgICAgICAgb3BlbmluZ01pbnV0ZXMgPSAoX2RheVBlcmlvZEFyciQ0ID0gZGF5UGVyaW9kQXJyWzBdKSA9PT0gbnVsbCB8fCBfZGF5UGVyaW9kQXJyJDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZGF5UGVyaW9kQXJyJDQkb3BlbiA9IF9kYXlQZXJpb2RBcnIkNC5vcGVuKSA9PT0gbnVsbCB8fCBfZGF5UGVyaW9kQXJyJDQkb3BlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RheVBlcmlvZEFyciQ0JG9wZW4ubWludXRlczsKICAgICAgICAgICAgICBjbG9zaW5nSG91cnMgPSAoX3RvZGF5c1BlcmlvZEFyciQ1ID0gdG9kYXlzUGVyaW9kQXJyWzBdKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJDUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdG9kYXlzUGVyaW9kQXJyJDUkY2wgPSBfdG9kYXlzUGVyaW9kQXJyJDUuY2xvc2UpID09PSBudWxsIHx8IF90b2RheXNQZXJpb2RBcnIkNSRjbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RvZGF5c1BlcmlvZEFyciQ1JGNsLmhvdXJzOwogICAgICAgICAgICAgIGNsb3NpbmdNaW51dGVzID0gKF90b2RheXNQZXJpb2RBcnIkNiA9IHRvZGF5c1BlcmlvZEFyclswXSkgPT09IG51bGwgfHwgX3RvZGF5c1BlcmlvZEFyciQ2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RvZGF5c1BlcmlvZEFyciQ2JGNsID0gX3RvZGF5c1BlcmlvZEFyciQ2LmNsb3NlKSA9PT0gbnVsbCB8fCBfdG9kYXlzUGVyaW9kQXJyJDYkY2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90b2RheXNQZXJpb2RBcnIkNiRjbC5taW51dGVzOwogICAgICAgICAgICAgIHJldHVybiAiYnJlYWsiOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwoKICAgICAgICAgIC8vIGNsb3NlZDogYWZ0ZXIgc3RvcmUgY2xvc2luZy4gV2UgbmVlZCBuZXh0IGFjdGl2ZSBkYXkncyBvcGVuaW5nSG91cnMKICAgICAgICAgIGZvciAodmFyIF9kYXkgPSAoY3VycmVudERheSArIDEpICUgNywgX2NvdW50ID0gMDsgX2NvdW50IDwgNjsgX2RheSA9IChfZGF5ICsgMSkgJSA3LCBfY291bnQrKykgewogICAgICAgICAgICB2YXIgX3JldDIgPSBfbG9vcDIoX2RheSwgX2NvdW50KTsKCiAgICAgICAgICAgIGlmIChfcmV0MiA9PT0gImNvbnRpbnVlIikgY29udGludWU7CiAgICAgICAgICAgIGlmIChfcmV0MiA9PT0gImJyZWFrIikgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gewogICAgY2xvc2luZ1RpbWU6IHRvUmVndWxhclRpbWUoewogICAgICBkYXlJbmRleDogZGF5SW5kZXgsCiAgICAgIGhvdXJzOiBjbG9zaW5nSG91cnMsCiAgICAgIG1pbnV0ZXM6IGNsb3NpbmdNaW51dGVzCiAgICB9KSB8fCAnTi9BJywKICAgIG9wZW5pbmdUaW1lOiB0b1JlZ3VsYXJUaW1lKHsKICAgICAgZGF5SW5kZXg6IGRheUluZGV4LAogICAgICBob3Vyczogb3BlbmluZ0hvdXJzLAogICAgICBtaW51dGVzOiBvcGVuaW5nTWludXRlcwogICAgfSkgfHwgJ04vQScKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIGZldGNoQWRkcmVzc0luZm86IGZ1bmN0aW9uIGZldGNoQWRkcmVzc0luZm8oX3JlZiwgX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCBzaGlwcGluZ0FkZHJlc3MsIHJldHVybk1ldGhvZHMsIGlzUmV0dXJuTWV0aG9kQ29tbWl0ZWQsIHVwZGF0ZWRNZXRob2RzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IF9yZWYyLnNoaXBwaW5nQWRkcmVzcywgcmV0dXJuTWV0aG9kcyA9IF9yZWYyLnJldHVybk1ldGhvZHM7CiAgICAgICAgICAgICAgaXNSZXR1cm5NZXRob2RDb21taXRlZCA9IGZhbHNlOwogICAgICAgICAgICAgIHVwZGF0ZWRNZXRob2RzID0gW107IC8vIGNvbW1pdCgnc2V0TG9hZGluZycsIHRydWUpCgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJldHVybk1ldGhvZHMubWFwKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKG1ldGhvZCkgewogICAgICAgICAgICAgICAgICB2YXIgX3NoaXBwaW5nQWRkcmVzcyR6aXBfOwoKICAgICAgICAgICAgICAgICAgdmFyIHR5cGUsIGRpc3RhbmNlVGhyZXNob2xkLCBuYW1lLCBfc2hpcHBpbmdBZGRyZXNzJHppcF8yLCBzdHJlZXQxLCBzdGF0ZSwgemlwQ29kZSwgY2l0eSwgbG9va3VwS2V5LCBrZXlzLCByTWV0aG9kcywgcGxhY2VzLCB2YWxpZFBsYWNlcywgb3BlcmF0aW9uYWxTdG9yZXMsIGluZGV4LCByZXN1bHQsIHBsYWNlSWQsIHBsYWNlLCBkaXN0YW5jZSwgX3BsYWNlJG9wZW5pbmdfaG91cnM2LCBfcGxhY2Ukb3BlbmluZ19ob3VyczcsIF9wbGFjZSRvcGVuaW5nX2hvdXJzOCwgX3BsYWNlJG9wZW5pbmdfaG91cnM5LCBfcGxhY2Ukb3BlbmluZ19ob3VyczEwLCBfcGxhY2Ukb3BlbmluZ19ob3VyczExOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtZXRob2QudHlwZSwgZGlzdGFuY2VUaHJlc2hvbGQgPSBtZXRob2QuZGlzdGFuY2VUaHJlc2hvbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG1ldGhvZCA9PT0gbnVsbCB8fCBtZXRob2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1ldGhvZC5jdXN0b21lcl9mYWNpbmdfY2FycmllcjsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChzaGlwcGluZ0FkZHJlc3MgPT09IG51bGwgfHwgc2hpcHBpbmdBZGRyZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3NoaXBwaW5nQWRkcmVzcyR6aXBfID0gc2hpcHBpbmdBZGRyZXNzLnppcF9jb2RlKSA9PT0gbnVsbCB8fCBfc2hpcHBpbmdBZGRyZXNzJHppcF8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zaGlwcGluZ0FkZHJlc3MkemlwXy5sZW5ndGgpID4gNSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpcHBpbmdBZGRyZXNzLnppcF9jb2RlID0gc2hpcHBpbmdBZGRyZXNzID09PSBudWxsIHx8IHNoaXBwaW5nQWRkcmVzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9zaGlwcGluZ0FkZHJlc3MkemlwXzIgPSBzaGlwcGluZ0FkZHJlc3MuemlwX2NvZGUpID09PSBudWxsIHx8IF9zaGlwcGluZ0FkZHJlc3MkemlwXzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zaGlwcGluZ0FkZHJlc3MkemlwXzIuc3Vic3RyaW5nKDAsIDUpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWV0MSA9IHNoaXBwaW5nQWRkcmVzcy5zdHJlZXQxLCBzdGF0ZSA9IHNoaXBwaW5nQWRkcmVzcy5zdGF0ZSwgemlwQ29kZSA9IHNoaXBwaW5nQWRkcmVzcy56aXBfY29kZSwgY2l0eSA9IHNoaXBwaW5nQWRkcmVzcy5jaXR5OwogICAgICAgICAgICAgICAgICAgICAgICAgIGxvb2t1cEtleSA9ICIiLmNvbmNhdChzdGF0ZSwgIl8iKS5jb25jYXQoemlwQ29kZSwgIl8iKS5jb25jYXQoY2l0eSwgIl8iKS5jb25jYXQobmFtZSwgIl8iKS5jb25jYXQodHlwZSwgIl9pbmZvIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghR09PR0xFX01BUF9BUElfQ0FDSEVbbG9va3VwS2V5XSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzID0gZ2V0TG9va3VwS2V5cyhPYmplY3Qua2V5cyhHT09HTEVfTUFQX0FQSV9DQUNIRSksIGxvb2t1cEtleSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgck1ldGhvZHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoR09PR0xFX01BUF9BUElfQ0FDSEVba2V5XSAmJiBHT09HTEVfTUFQX0FQSV9DQUNIRVtrZXldLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgck1ldGhvZHMucHVzaChHT09HTEVfTUFQX0FQSV9DQUNIRVtrZXldWzBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb21taXQoJ3VwZGF0ZU1ldGhvZHMnLCByTWV0aG9kcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXR1cm5NZXRob2RDb21taXRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgR09PR0xFX01BUF9BUElfQ0FDSEVbbG9va3VwS2V5XSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ29vZ2xlTWFwc1NlcnZpY2UuZ2V0UGxhY2VzKHNoaXBwaW5nQWRkcmVzcywgbmFtZSwgdHlwZSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBsYWNlcy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9vYmplY3RTcHJlYWQoe30sIG1ldGhvZCkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFBsYWNlcyA9IHBsYWNlcy5maWx0ZXIoZnVuY3Rpb24gKHBsYWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRTdG9yZU5hbWUocGxhY2UubmFtZSwgdHlwZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHZhbGlkUGxhY2VzLmxlbmd0aCA9PT0gMCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX29iamVjdFNwcmVhZCh7fSwgbWV0aG9kKSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbmFsU3RvcmVzID0gdmFsaWRQbGFjZXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1c2luZXNzU3RhdHVzID0gX3JlZjQuYnVzaW5lc3Nfc3RhdHVzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFidXNpbmVzc1N0YXR1cyA/IHRydWUgOiBidXNpbmVzc1N0YXR1cyA9PT0gJ09QRVJBVElPTkFMJzsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEob3BlcmF0aW9uYWxTdG9yZXMubGVuZ3RoID09PSAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfb2JqZWN0U3ByZWFkKHt9LCBtZXRob2QpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgR09PR0xFX01BUF9BUElfQ0FDSEVbbG9va3VwS2V5XSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaW5kZXggPCBvcGVyYXRpb25hbFN0b3Jlcy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdGlvbmFsU3RvcmVzW2luZGV4XTsKICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZUlkID0gcmVzdWx0LnBsYWNlX2lkOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMDsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ29vZ2xlTWFwc1NlcnZpY2UuZ2V0RGV0YWlscyhwbGFjZUlkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ29vZ2xlTWFwc1NlcnZpY2UuZ2V0RGlzdGFuY2UoIiIuY29uY2F0KHN0cmVldDEsICIsICIpLmNvbmNhdChjaXR5LCAiLCAiKS5jb25jYXQoc3RhdGUsICIgIikuY29uY2F0KHppcENvZGUpLCBwbGFjZS5mb3JtYXR0ZWRfYWRkcmVzcyk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3RvcmVXaXRoaW5EaXN0YW5jZShkaXN0YW5jZSA9PT0gbnVsbCB8fCBkaXN0YW5jZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGlzdGFuY2UuZGlzdGFuY2UsIGRpc3RhbmNlVGhyZXNob2xkKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJjb250aW51ZSIsIDQxKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgR09PR0xFX01BUF9BUElfQ0FDSEVbbG9va3VwS2V5XS5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtZXRob2QpLCBkaXN0YW5jZSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRQaG9uZU51bWJlcjogcGxhY2UgPT09IG51bGwgfHwgcGxhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYWNlLmZvcm1hdHRlZF9waG9uZV9udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRBZGRyZXNzOiBwbGFjZSA9PT0gbnVsbCB8fCBwbGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxhY2UuZm9ybWF0dGVkX2FkZHJlc3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuaW5nSG91cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPcGVuOiBwbGFjZSA9PT0gbnVsbCB8fCBwbGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9wbGFjZSRvcGVuaW5nX2hvdXJzNiA9IHBsYWNlLm9wZW5pbmdfaG91cnMpID09PSBudWxsIHx8IF9wbGFjZSRvcGVuaW5nX2hvdXJzNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYWNlJG9wZW5pbmdfaG91cnM2LmlzT3BlbigpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5X3RleHQ6IHBsYWNlID09PSBudWxsIHx8IHBsYWNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3BsYWNlJG9wZW5pbmdfaG91cnM3ID0gcGxhY2Uub3BlbmluZ19ob3VycykgPT09IG51bGwgfHwgX3BsYWNlJG9wZW5pbmdfaG91cnM3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGxhY2Ukb3BlbmluZ19ob3Vyczcud2Vla2RheV90ZXh0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RzOiBwbGFjZSA9PT0gbnVsbCB8fCBwbGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9wbGFjZSRvcGVuaW5nX2hvdXJzOCA9IHBsYWNlLm9wZW5pbmdfaG91cnMpID09PSBudWxsIHx8IF9wbGFjZSRvcGVuaW5nX2hvdXJzOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYWNlJG9wZW5pbmdfaG91cnM4LnBlcmlvZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZGF5Q2xvc2luZ1RpbWU6IGdldEZvcm1hdHRlZFN0b3JlVGltZShwbGFjZSkuY2xvc2luZ1RpbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvZGF5T3BlbmluZ1RpbWU6IGdldEZvcm1hdHRlZFN0b3JlVGltZShwbGFjZSkub3BlbmluZ1RpbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZE1ldGhvZHMucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWV0aG9kKSwgZGlzdGFuY2UpLCB7fSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkUGhvbmVOdW1iZXI6IHBsYWNlID09PSBudWxsIHx8IHBsYWNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGFjZS5mb3JtYXR0ZWRfcGhvbmVfbnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkQWRkcmVzczogcGxhY2UgPT09IG51bGwgfHwgcGxhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYWNlLmZvcm1hdHRlZF9hZGRyZXNzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbmluZ0hvdXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogcGxhY2UgPT09IG51bGwgfHwgcGxhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGxhY2Ukb3BlbmluZ19ob3VyczkgPSBwbGFjZS5vcGVuaW5nX2hvdXJzKSA9PT0gbnVsbCB8fCBfcGxhY2Ukb3BlbmluZ19ob3VyczkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGFjZSRvcGVuaW5nX2hvdXJzOS5pc09wZW4oKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Vla2RheV90ZXh0OiBwbGFjZSA9PT0gbnVsbCB8fCBwbGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9wbGFjZSRvcGVuaW5nX2hvdXJzMTAgPSBwbGFjZS5vcGVuaW5nX2hvdXJzKSA9PT0gbnVsbCB8fCBfcGxhY2Ukb3BlbmluZ19ob3VyczEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGxhY2Ukb3BlbmluZ19ob3VyczEwLndlZWtkYXlfdGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyaW9kczogcGxhY2UgPT09IG51bGwgfHwgcGxhY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGxhY2Ukb3BlbmluZ19ob3VyczExID0gcGxhY2Uub3BlbmluZ19ob3VycykgPT09IG51bGwgfHwgX3BsYWNlJG9wZW5pbmdfaG91cnMxMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYWNlJG9wZW5pbmdfaG91cnMxMS5wZXJpb2RzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2RheUNsb3NpbmdUaW1lOiBnZXRGb3JtYXR0ZWRTdG9yZVRpbWUocGxhY2UpLmNsb3NpbmdUaW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2RheU9wZW5pbmdUaW1lOiBnZXRGb3JtYXR0ZWRTdG9yZVRpbWUocGxhY2UpLm9wZW5pbmdUaW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgNDQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKSkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5OwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhZGRyZXNzIEluZm8nLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQyLnQwCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGlmICghaXNSZXR1cm5NZXRob2RDb21taXRlZCkgewogICAgICAgICAgICAgICAgY29tbWl0KCd1cGRhdGVNZXRob2RzJywgdXBkYXRlZE1ldGhvZHMpOwogICAgICAgICAgICAgIH0gLy8gY29tbWl0KCdzZXRMb2FkaW5nJywgZmFsc2UpCgoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzQsIDldXSk7CiAgICB9KSkoKTsKICB9LAogIGZldGNoTmVhcmJ5Q2FycmllcnM6IGZ1bmN0aW9uIGZldGNoTmVhcmJ5Q2FycmllcnMoX3JlZjUsIF9yZWY2KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGNvbW1pdCwgY2Fycmllciwgc2hpcHBpbmdBZGRyZXNzLCB0eXBlLCBkaXN0YW5jZVRocmVzaG9sZCwgbmFtZSwgc3RyZWV0MSwgc3RhdGUsIHppcENvZGUsIGNpdHksIHBsYWNlcywgcmVzdWx0cywgY2FycmllcnMsIF9pdGVyYXRvckFicnVwdENvbXBsZXRpb24sIF9kaWRJdGVyYXRvckVycm9yLCBfaXRlcmF0b3JFcnJvciwgX2l0ZXJhdG9yLCBfc3RlcCwgcmVzdWx0LCBwbGFjZUlkLCBwbGFjZSwgZGlzdGFuY2UsIF9wbGFjZSwgX3BsYWNlMiwgX3BsYWNlMywgX3BsYWNlMyRvcGVuaW5nX2hvdXJzLCBfcGxhY2U0LCBfcGxhY2U0JG9wZW5pbmdfaG91cnMsIF9wbGFjZTUsIF9wbGFjZTUkb3BlbmluZ19ob3VyczsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICAgICAgICAgIGNhcnJpZXIgPSBfcmVmNi5jYXJyaWVyLCBzaGlwcGluZ0FkZHJlc3MgPSBfcmVmNi5zaGlwcGluZ0FkZHJlc3M7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRMb2FkaW5nJywgdHJ1ZSk7CiAgICAgICAgICAgICAgdHlwZSA9IGNhcnJpZXIudHlwZSwgZGlzdGFuY2VUaHJlc2hvbGQgPSBjYXJyaWVyLmRpc3RhbmNlVGhyZXNob2xkOwogICAgICAgICAgICAgIG5hbWUgPSBjYXJyaWVyID09PSBudWxsIHx8IGNhcnJpZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcnJpZXIuY3VzdG9tZXJfZmFjaW5nX2NhcnJpZXI7CiAgICAgICAgICAgICAgc3RyZWV0MSA9IHNoaXBwaW5nQWRkcmVzcy5zdHJlZXQxLCBzdGF0ZSA9IHNoaXBwaW5nQWRkcmVzcy5zdGF0ZSwgemlwQ29kZSA9IHNoaXBwaW5nQWRkcmVzcy56aXBfY29kZSwgY2l0eSA9IHNoaXBwaW5nQWRkcmVzcy5jaXR5OyAvLyBjb25zdCBsb29rdXBLZXkgPSBgJHtzdGF0ZX1fJHt6aXBDb2RlfV8ke2NpdHl9XyR7bmFtZX1fJHt0eXBlfV9uZWFyYnlgCgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNjsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgcmV0dXJuIGdvb2dsZU1hcHNTZXJ2aWNlLmdldFBsYWNlcyhzaGlwcGluZ0FkZHJlc3MsIG5hbWUsIHR5cGUpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHBsYWNlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIHJlc3VsdHMgPSBwbGFjZXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmNykgewogICAgICAgICAgICAgICAgdmFyIGJ1c2luZXNzU3RhdHVzID0gX3JlZjcuYnVzaW5lc3Nfc3RhdHVzOwogICAgICAgICAgICAgICAgcmV0dXJuICFidXNpbmVzc1N0YXR1cyA/IHRydWUgOiBidXNpbmVzc1N0YXR1cyA9PT0gJ09QRVJBVElPTkFMJzsKICAgICAgICAgICAgICB9KTsgLy8gT25seSBjYWxjdWxhdGUgZGlzdGFuY2UgZm9yIGEgbWF4IG9mIHRlbiByZXN1bHRzCgogICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDEwKSB7CiAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zbGljZSgwLCAxMCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXJyaWVycyA9IFtdOwogICAgICAgICAgICAgIF9pdGVyYXRvckFicnVwdENvbXBsZXRpb24gPSBmYWxzZTsKICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2FzeW5jSXRlcmF0b3IocmVzdWx0cyk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgcmV0dXJuIF9pdGVyYXRvci5uZXh0KCk7CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGlmICghKF9pdGVyYXRvckFicnVwdENvbXBsZXRpb24gPSAhKF9zdGVwID0gX2NvbnRleHQzLnNlbnQpLmRvbmUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXN1bHQgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgICBwbGFjZUlkID0gcmVzdWx0LnBsYWNlX2lkOwogICAgICAgICAgICAgIHBsYWNlID0gR09PR0xFX01BUF9BUElfUElEX0NBQ0hFW3BsYWNlSWRdOwogICAgICAgICAgICAgIGRpc3RhbmNlID0gR09PR0xFX01BUF9BUElfRElTVF9DQUNIRVtwbGFjZUlkXTsKCiAgICAgICAgICAgICAgaWYgKCEoIXBsYWNlIHx8ICFkaXN0YW5jZSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgcmV0dXJuIHNsZWVwKDIwMCk7CgogICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgcmV0dXJuIGdvb2dsZU1hcHNTZXJ2aWNlLmdldERldGFpbHMocGxhY2VJZCk7CgogICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIHBsYWNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgR09PR0xFX01BUF9BUElfUElEX0NBQ0hFW3BsYWNlSWRdID0gcGxhY2U7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMzsKICAgICAgICAgICAgICByZXR1cm4gc2xlZXAoMjAwKTsKCiAgICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzNTsKICAgICAgICAgICAgICByZXR1cm4gZ29vZ2xlTWFwc1NlcnZpY2UuZ2V0RGlzdGFuY2UoIiIuY29uY2F0KHN0cmVldDEsICIsICIpLmNvbmNhdChjaXR5LCAiLCAiKS5jb25jYXQoc3RhdGUsICIgIikuY29uY2F0KHppcENvZGUpLCBwbGFjZS5mb3JtYXR0ZWRfYWRkcmVzcyk7CgogICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGRpc3RhbmNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgR09PR0xFX01BUF9BUElfRElTVF9DQUNIRVtwbGFjZUlkXSA9IGRpc3RhbmNlOwoKICAgICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgICBpZiAoaXNTdG9yZVdpdGhpbkRpc3RhbmNlKGRpc3RhbmNlLmRpc3RhbmNlLCBkaXN0YW5jZVRocmVzaG9sZCkgJiYgdmFsaWRTdG9yZU5hbWUocGxhY2UubmFtZSwgdHlwZSkpIHsKICAgICAgICAgICAgICAgIGNhcnJpZXJzLnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNhcnJpZXIpLCBkaXN0YW5jZSksIHt9LCB7CiAgICAgICAgICAgICAgICAgIG5hbWU6IHBsYWNlLm5hbWUsCiAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFBob25lTnVtYmVyOiAoX3BsYWNlID0gcGxhY2UpID09PSBudWxsIHx8IF9wbGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYWNlLmZvcm1hdHRlZF9waG9uZV9udW1iZXIsCiAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZEFkZHJlc3M6IChfcGxhY2UyID0gcGxhY2UpID09PSBudWxsIHx8IF9wbGFjZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGFjZTIuZm9ybWF0dGVkX2FkZHJlc3MsCiAgICAgICAgICAgICAgICAgIGljb246IHJlc3VsdC5pY29uLAogICAgICAgICAgICAgICAgICBvcGVuaW5nSG91cnM6IHsKICAgICAgICAgICAgICAgICAgICBpc09wZW46IChfcGxhY2UzID0gcGxhY2UpID09PSBudWxsIHx8IF9wbGFjZTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGxhY2UzJG9wZW5pbmdfaG91cnMgPSBfcGxhY2UzLm9wZW5pbmdfaG91cnMpID09PSBudWxsIHx8IF9wbGFjZTMkb3BlbmluZ19ob3VycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYWNlMyRvcGVuaW5nX2hvdXJzLmlzT3BlbigpLAogICAgICAgICAgICAgICAgICAgIHdlZWtkYXlfdGV4dDogKF9wbGFjZTQgPSBwbGFjZSkgPT09IG51bGwgfHwgX3BsYWNlNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9wbGFjZTQkb3BlbmluZ19ob3VycyA9IF9wbGFjZTQub3BlbmluZ19ob3VycykgPT09IG51bGwgfHwgX3BsYWNlNCRvcGVuaW5nX2hvdXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGxhY2U0JG9wZW5pbmdfaG91cnMud2Vla2RheV90ZXh0LAogICAgICAgICAgICAgICAgICAgIHBlcmlvZHM6IChfcGxhY2U1ID0gcGxhY2UpID09PSBudWxsIHx8IF9wbGFjZTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcGxhY2U1JG9wZW5pbmdfaG91cnMgPSBfcGxhY2U1Lm9wZW5pbmdfaG91cnMpID09PSBudWxsIHx8IF9wbGFjZTUkb3BlbmluZ19ob3VycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYWNlNSRvcGVuaW5nX2hvdXJzLnBlcmlvZHMsCiAgICAgICAgICAgICAgICAgICAgdG9kYXlDbG9zaW5nVGltZTogZ2V0Rm9ybWF0dGVkU3RvcmVUaW1lKHBsYWNlKS5jbG9zaW5nVGltZSwKICAgICAgICAgICAgICAgICAgICB0b2RheU9wZW5pbmdUaW1lOiBnZXRGb3JtYXR0ZWRTdG9yZVRpbWUocGxhY2UpLm9wZW5pbmdUaW1lCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICAgIF9pdGVyYXRvckFicnVwdENvbXBsZXRpb24gPSBmYWxzZTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ3OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA0MzoKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDQzOwogICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgxNSk7CiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gX2NvbnRleHQzLnQwOwoKICAgICAgICAgICAgY2FzZSA0NzoKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDQ3OwogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNDg7CgogICAgICAgICAgICAgIGlmICghKF9pdGVyYXRvckFicnVwdENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1MjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1MjsKICAgICAgICAgICAgICByZXR1cm4gX2l0ZXJhdG9yLnJldHVybigpOwoKICAgICAgICAgICAgY2FzZSA1MjoKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDUyOwoKICAgICAgICAgICAgICBpZiAoIV9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKCiAgICAgICAgICAgIGNhc2UgNTU6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goNTIpOwoKICAgICAgICAgICAgY2FzZSA1NjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCg0Nyk7CgogICAgICAgICAgICBjYXNlIDU3OgogICAgICAgICAgICAgIGNhcnJpZXJzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICAgIHJldHVybiArYS5kaXN0YW5jZS5zcGxpdCgnICcpWzBdIC0gK2IuZGlzdGFuY2Uuc3BsaXQoJyAnKVswXTsKICAgICAgICAgICAgICB9KS5zbGljZSgwLCAzKTsgLy8gR09PR0xFX01BUF9BUElfQ0FDSEVbbG9va3VwS2V5XSA9IGNhcnJpZXJzCgogICAgICAgICAgICAgIGNvbW1pdCgnc2V0TmVhcmJ5Q2FycmllcnMnLCBjYXJyaWVycyk7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRMb2FkaW5nJywgZmFsc2UpOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDYyOgogICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gNjI7CiAgICAgICAgICAgICAgX2NvbnRleHQzLnQxID0gX2NvbnRleHQzWyJjYXRjaCJdKDYpOwogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG5lYXJieSBsb2NhdGlvbnMnLCB7CiAgICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQzLnQxCiAgICAgICAgICAgICAgfSk7IC8vIGRlbGV0ZSBHT09HTEVfTUFQX0FQSV9DQUNIRVtsb29rdXBLZXldCgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjc7CiAgICAgICAgICAgICAgcmV0dXJuIHNsZWVwKDUwMDApOwoKICAgICAgICAgICAgY2FzZSA2NzoKICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgncmV0dXJucy9mZXRjaE5lYXJieUNhcnJpZXJzJywgewogICAgICAgICAgICAgICAgY2FycmllcjogY2FycmllciwKICAgICAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzczogc2hpcHBpbmdBZGRyZXNzCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDY4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbNiwgNjJdLCBbMTUsIDQzLCA0NywgNTddLCBbNDgsLCA1MiwgNTZdXSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/store/modules/returns/actions.js"],"names":["googleMapsService","toRegularTime","validStoreName","isStoreWithinDistance","getLookupKeys","store","formattedTime","hours","minutes","parseInt","sleep","milliseconds","Promise","resolve","setTimeout","GOOGLE_MAP_API_CACHE","GOOGLE_MAP_API_PID_CACHE","GOOGLE_MAP_API_DIST_CACHE","getFormattedStoreTime","place","closingHours","openingHours","openingMinutes","closingMinutes","dayIndex","currentDay","Date","getDay","currentTime","getHours","getMinutes","todaysPeriodArr","opening_hours","periods","filter","reqdDay","close","day","length","count","dayPeriodArr","Math","abs","open","index","closingTime","openingTime","fetchAddressInfo","commit","shippingAddress","returnMethods","isReturnMethodCommited","updatedMethods","all","map","method","type","distanceThreshold","name","customer_facing_carrier","zip_code","substring","street1","state","zipCode","city","lookupKey","keys","Object","rMethods","key","push","getPlaces","places","validPlaces","operationalStores","businessStatus","business_status","result","placeId","place_id","getDetails","getDistance","formatted_address","distance","formattedPhoneNumber","formatted_phone_number","formattedAddress","isOpen","weekday_text","todayClosingTime","todayOpeningTime","console","error","fetchNearbyCarriers","carrier","results","slice","carriers","icon","sort","a","b","split","dispatch"],"mappings":"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","sourcesContent":["import googleMapsService from '@/common/googleMaps.service'\nimport { toRegularTime, validStoreName, isStoreWithinDistance, getLookupKeys } from '@/utils'\nimport store from '@/store'\n\n// in HHMM format\nconst formattedTime = (hours, minutes) => {\n  return parseInt(`${hours}${minutes < 10 ? '0' + minutes : minutes}`)\n}\n\nconst sleep = (milliseconds) => {\n  return new Promise(resolve => setTimeout(resolve, milliseconds))\n}\nconst GOOGLE_MAP_API_CACHE = {}\nconst GOOGLE_MAP_API_PID_CACHE = {}\nconst GOOGLE_MAP_API_DIST_CACHE = {}\n\nconst getFormattedStoreTime = (place) => {\n  let closingHours = null\n  let openingHours = null\n  let openingMinutes = null\n  let closingMinutes = null\n  let dayIndex = ''\n\n  const currentDay = new Date().getDay()\n  const currentTime = formattedTime(new Date().getHours(), new Date().getMinutes())\n  const todaysPeriodArr = place.opening_hours?.periods?.filter(\n    (reqdDay) => reqdDay?.close?.day === currentDay\n  )\n  // todaysPeriod array can be of any length\n\n  if (todaysPeriodArr) {\n    if (!todaysPeriodArr.length) { // holiday\n      for (let day = (currentDay + 1) % 7, count = 0; count < 6; day = (day + 1) % 7, count++) {\n        const dayPeriodArr = place.opening_hours?.periods?.filter(\n          (reqdDay) => reqdDay?.close?.day === day\n        )\n        if (!dayPeriodArr.length) {\n          continue\n        } else {\n          dayIndex = Math.abs(day - currentDay) > 1 ? day : '' // show day of the week only when its not the next day\n          openingHours = dayPeriodArr[0]?.open?.hours\n          openingMinutes = dayPeriodArr[0]?.open?.minutes\n          break\n        }\n      }\n    } else if (todaysPeriodArr.length === 1) {\n    // only one closing and opening time for a day\n      closingHours = todaysPeriodArr[0]?.close?.hours\n      closingMinutes = todaysPeriodArr[0]?.close?.minutes\n      openingHours = todaysPeriodArr[0]?.open?.hours\n      openingMinutes = todaysPeriodArr[0]?.open?.minutes\n    } else {\n    // store open in breaks in a day\n      for (let index = 0; index < todaysPeriodArr.length; index++) {\n        if (currentTime < formattedTime(todaysPeriodArr[index]?.open?.hours, todaysPeriodArr[index]?.open?.minutes\n        ) // closed: before store opening\n        ) {\n          openingHours = todaysPeriodArr[index]?.open?.hours\n          openingMinutes = todaysPeriodArr[index]?.open?.minutes\n          closingHours = todaysPeriodArr[index]?.close?.hours\n          closingMinutes = todaysPeriodArr[index]?.close?.minutes\n          break\n        } else if (currentTime >= formattedTime(todaysPeriodArr[index]?.open?.hours, todaysPeriodArr[index]?.open?.minutes) && currentTime < formattedTime(todaysPeriodArr[index]?.close?.hours, todaysPeriodArr[index]?.close?.minutes)) { // store is open\n          closingHours = todaysPeriodArr[index]?.close?.hours\n          closingMinutes = todaysPeriodArr[index]?.close?.minutes\n          openingHours = todaysPeriodArr[index]?.open?.hours\n          openingMinutes = todaysPeriodArr[index]?.open?.minutes\n          break\n        } else {\n        // closed: after store closing. We need next active day's openingHours\n          for (let day = (currentDay + 1) % 7, count = 0; count < 6; day = (day + 1) % 7, count++) {\n            const dayPeriodArr = place.opening_hours?.periods?.filter(\n              (reqdDay) => reqdDay?.close?.day === day\n            )\n            if (!dayPeriodArr.length) {\n              continue\n            } else {\n              dayIndex = Math.abs(day - currentDay) > 1 ? day : ''\n              openingHours = dayPeriodArr[0]?.open?.hours\n              openingMinutes = dayPeriodArr[0]?.open?.minutes\n              closingHours = todaysPeriodArr[0]?.close?.hours\n              closingMinutes = todaysPeriodArr[0]?.close?.minutes\n              break\n            }\n          }\n        }\n      }\n    }\n  }\n  return {\n    closingTime: toRegularTime({ dayIndex, hours: closingHours, minutes: closingMinutes }) || 'N/A',\n    openingTime: toRegularTime({ dayIndex, hours: openingHours, minutes: openingMinutes }) || 'N/A'\n  }\n}\n\nexport default {\n  async fetchAddressInfo ({ commit }, { shippingAddress, returnMethods }) {\n    var isReturnMethodCommited = false\n    const updatedMethods = []\n    // commit('setLoading', true)\n    try {\n      await Promise.all(\n        returnMethods.map(async (method) => {\n          const { type, distanceThreshold } = method\n          const name = method?.customer_facing_carrier\n          if (shippingAddress?.zip_code?.length > 5) {\n            shippingAddress.zip_code = shippingAddress?.zip_code?.substring(0, 5)\n          }\n          const { street1, state, zip_code: zipCode, city } = shippingAddress\n          const lookupKey = `${state}_${zipCode}_${city}_${name}_${type}_info`\n\n          if (GOOGLE_MAP_API_CACHE[lookupKey]) {\n            const keys = getLookupKeys(Object.keys(GOOGLE_MAP_API_CACHE), lookupKey)\n            var rMethods = []\n            keys.map(key => { if (GOOGLE_MAP_API_CACHE[key] && GOOGLE_MAP_API_CACHE[key].length > 0) { rMethods.push(GOOGLE_MAP_API_CACHE[key][0]) } })\n            commit('updateMethods', rMethods)\n            isReturnMethodCommited = true\n            return GOOGLE_MAP_API_CACHE[lookupKey]\n          }\n\n          // STEP 1: Get places for the specified zipcode, city and state\n          // STEP 2: Ensure the place name has specified names (storeNames) as mentioned in the policy\n          // STEP 3: Filter only OPERATIONAL stores. PERMANENTLY_CLOSED stores are eliminated\n          // STEP 4: Pick up the first operational, valid store (To be changed)\n\n          const places = await googleMapsService.getPlaces(shippingAddress, name, type)\n          if (places.length === 0) {\n            return {\n              ...method\n            }\n          }\n\n          const validPlaces = places.filter((place) => validStoreName(place.name, type))\n          if (validPlaces.length === 0) {\n            return {\n              ...method\n            }\n          }\n\n          const operationalStores = validPlaces.filter(\n            ({ business_status: businessStatus }) =>\n              !businessStatus ? true : businessStatus === 'OPERATIONAL'\n          )\n          if (operationalStores.length === 0) {\n            return {\n              ...method\n            }\n          }\n\n          GOOGLE_MAP_API_CACHE[lookupKey] = []\n\n          for (let index = 0; index < operationalStores.length; index++) {\n            const result = operationalStores[index]\n\n            const { place_id: placeId } = result\n\n            const place = await googleMapsService.getDetails(placeId)\n\n            const distance = await googleMapsService.getDistance(\n            `${street1}, ${city}, ${state} ${zipCode}`,\n            place.formatted_address\n            )\n\n            if (!isStoreWithinDistance(distance?.distance, distanceThreshold)) {\n              continue\n            } else {\n              GOOGLE_MAP_API_CACHE[lookupKey].push({\n                ...method,\n                ...distance,\n                formattedPhoneNumber: place?.formatted_phone_number,\n                formattedAddress: place?.formatted_address,\n                openingHours: {\n                  isOpen: place?.opening_hours?.isOpen(),\n                  weekday_text: place?.opening_hours?.weekday_text,\n                  periods: place?.opening_hours?.periods,\n                  todayClosingTime: getFormattedStoreTime(place).closingTime,\n                  todayOpeningTime: getFormattedStoreTime(place).openingTime\n                }\n              })\n              updatedMethods.push({\n                ...method,\n                ...distance,\n                formattedPhoneNumber: place?.formatted_phone_number,\n                formattedAddress: place?.formatted_address,\n                openingHours: {\n                  isOpen: place?.opening_hours?.isOpen(),\n                  weekday_text: place?.opening_hours?.weekday_text,\n                  periods: place?.opening_hours?.periods,\n                  todayClosingTime: getFormattedStoreTime(place).closingTime,\n                  todayOpeningTime: getFormattedStoreTime(place).openingTime\n                }\n              })\n              break\n            }\n          }\n        })\n      )\n    } catch (error) {\n      console.error('Error fetching address Info', { error })\n    }\n\n    if (!isReturnMethodCommited) {\n      commit('updateMethods', updatedMethods)\n    }\n    // commit('setLoading', false)\n  },\n  async fetchNearbyCarriers ({ commit }, { carrier, shippingAddress }) {\n    commit('setLoading', true)\n    const { type, distanceThreshold } = carrier\n    const name = carrier?.customer_facing_carrier\n    const { street1, state, zip_code: zipCode, city } = shippingAddress\n    // const lookupKey = `${state}_${zipCode}_${city}_${name}_${type}_nearby`\n    try {\n      // if (GOOGLE_MAP_API_CACHE[lookupKey]) {\n      //   commit('setNearbyCarriers', GOOGLE_MAP_API_CACHE[lookupKey])\n      //   commit('setLoading', false)\n      //   return\n      // }\n      const places = await googleMapsService.getPlaces(shippingAddress, name, type)\n\n      let results = places\n        .filter(\n          ({ business_status: businessStatus }) =>\n            !businessStatus ? true : businessStatus === 'OPERATIONAL'\n        )\n      // Only calculate distance for a max of ten results\n      if (results.length > 10) {\n        results = results.slice(0, 10)\n      }\n\n      const carriers = []\n      for await (const result of results) {\n        const { place_id: placeId } = result\n\n        var place = GOOGLE_MAP_API_PID_CACHE[placeId]\n        var distance = GOOGLE_MAP_API_DIST_CACHE[placeId]\n\n        if (!place || !distance) {\n          await sleep(200)\n          place = await googleMapsService.getDetails(placeId)\n          GOOGLE_MAP_API_PID_CACHE[placeId] = place\n\n          await sleep(200)\n          distance = await googleMapsService.getDistance(\n            `${street1}, ${city}, ${state} ${zipCode}`,\n            place.formatted_address\n          )\n\n          GOOGLE_MAP_API_DIST_CACHE[placeId] = distance\n        }\n\n        if (isStoreWithinDistance(distance.distance, distanceThreshold) && validStoreName(place.name, type)) {\n          carriers.push({\n            ...carrier,\n            ...distance,\n            name: place.name,\n            formattedPhoneNumber: place?.formatted_phone_number,\n            formattedAddress: place?.formatted_address,\n            icon: result.icon,\n            openingHours: {\n              isOpen: place?.opening_hours?.isOpen(),\n              weekday_text: place?.opening_hours?.weekday_text,\n              periods: place?.opening_hours?.periods,\n              todayClosingTime: getFormattedStoreTime(place).closingTime,\n              todayOpeningTime: getFormattedStoreTime(place).openingTime\n            }\n          })\n        }\n      }\n\n      carriers.sort(\n        (a, b) => +a.distance.split(' ')[0] - +b.distance.split(' ')[0]\n      ).slice(0, 3)\n\n      // GOOGLE_MAP_API_CACHE[lookupKey] = carriers\n\n      commit('setNearbyCarriers', carriers)\n      commit('setLoading', false)\n    } catch (error) {\n      console.error('Error fetching nearby locations', { error })\n      // delete GOOGLE_MAP_API_CACHE[lookupKey]\n      await sleep(5000)\n      store.dispatch('returns/fetchNearbyCarriers', {\n        carrier: carrier,\n        shippingAddress: shippingAddress\n      })\n    }\n  }\n}\n"]}]}