{"remainingRequest":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/ReturnMethodsController.js","dependencies":[{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/ReturnMethodsController.js","mtime":1653332412568},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/cache-loader/dist/cjs.js","mtime":1649977086874},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/babel-loader/lib/index.js","mtime":1649977089120},{"path":"/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1649977087118}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL25hdmVlbm11dGh5YWxhL0RvY3VtZW50cy9Qcm9qZWN0cy9yZXR1cm5zX3BvcnRhbF91aS9yZXR1cm5zX3BvcnRhbF91aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IHdoaXRlTGlzdGVkU3RhcGxlc1N0b3Jlcywgd2hpdGVMaXN0ZWRVU1BTU3RvcmVzLCBDT05TVEFOVFMgfSBmcm9tICdAL2NvbnN0YW50cyc7CnZhciBSRVRVUk5fTUVUSE9EUyA9IENPTlNUQU5UUy5SRVRVUk5fTUVUSE9EUywKICAgIENBUlJJRVJTID0gQ09OU1RBTlRTLkNBUlJJRVJTOwpleHBvcnQgZnVuY3Rpb24gaXNFeGNoYW5nZU9yZGVyKGV4Y2hhbmdlTGlzdCkgewogIHJldHVybiBleGNoYW5nZUxpc3QubGVuZ3RoICE9PSAwOwp9CmV4cG9ydCBmdW5jdGlvbiBpc1VTUFNDYXJyaWVyKHNlbGVjdGVkQ2FycmllcikgewogIHJldHVybiAoc2VsZWN0ZWRDYXJyaWVyID09PSBudWxsIHx8IHNlbGVjdGVkQ2FycmllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRDYXJyaWVyLmN1c3RvbWVyX2ZhY2luZ19jYXJyaWVyLnRvTG93ZXJDYXNlKCkpID09PSBDQVJSSUVSUy5VU1BTOwp9CmV4cG9ydCBmdW5jdGlvbiBpc01haWxCYWNrUmV0dXJuKGNhcnJpZXIpIHsKICByZXR1cm4gY2Fycmllci50eXBlLnRvTG93ZXJDYXNlKCkgPT09IFJFVFVSTl9NRVRIT0RTLk1BSUxfQkFDSzsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0UmV0dXJuc0hlbHBlclRleHQocmV0dXJuVHlwZSkgewogIHZhciBkZXNjID0gJyc7CgogIGlmIChyZXR1cm5UeXBlLnR5cGUgPT09IFJFVFVSTl9NRVRIT0RTLklOX1NUT1JFIHx8IHJldHVyblR5cGUudHlwZSA9PT0gUkVUVVJOX01FVEhPRFMuRVhQUkVTU19SRVRVUk5TKSB7CiAgICBkZXNjID0gJ0Ryb3Agb2ZmIGF0ICc7CiAgfSBlbHNlIGlmIChyZXR1cm5UeXBlLnR5cGUgPT09IFJFVFVSTl9NRVRIT0RTLk1BSUxfQkFDSykgewogICAgZGVzYyA9ICdNYWlsIGJhY2sgdmlhICc7CiAgfQoKICByZXR1cm4gZGVzYzsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRSZXR1cm5NZXRob2REcm9wT2ZmRGVzY3JpcHRpb24ocmV0dXJuVHlwZSkgewogIHZhciBkZXNjID0gZ2V0UmV0dXJuc0hlbHBlclRleHQocmV0dXJuVHlwZSk7CiAgZGVzYyA9IGRlc2MgKyByZXR1cm5UeXBlLmN1c3RvbWVyX2ZhY2luZ19jYXJyaWVyOwogIHJldHVybiBkZXNjOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRTaGlwcGluZ0FtdChjYXJyaWVyKSB7CiAgdmFyIGFtdCA9ICcnOwoKICBpZiAoY2FycmllciAhPT0gbnVsbCAmJiBjYXJyaWVyICE9PSB2b2lkIDAgJiYgY2Fycmllci5mcmVlX3NoaXBwaW5nKSB7CiAgICBhbXQgPSAnRnJlZSc7CiAgfSBlbHNlIHsKICAgIHZhciBfY2FycmllciRmbGF0X2ZlZSwgX2NhcnJpZXIkZmxhdF9mZWUkYW1vOwoKICAgIGFtdCA9IGNhcnJpZXIgPT09IG51bGwgfHwgY2FycmllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jYXJyaWVyJGZsYXRfZmVlID0gY2Fycmllci5mbGF0X2ZlZSkgPT09IG51bGwgfHwgX2NhcnJpZXIkZmxhdF9mZWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2FycmllciRmbGF0X2ZlZSRhbW8gPSBfY2FycmllciRmbGF0X2ZlZS5hbW91bnQpID09PSBudWxsIHx8IF9jYXJyaWVyJGZsYXRfZmVlJGFtbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NhcnJpZXIkZmxhdF9mZWUkYW1vLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHsKICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgIGN1cnJlbmN5OiAnVVNEJwogICAgfSk7CiAgfQoKICByZXR1cm4gYW10Owp9CmV4cG9ydCBmdW5jdGlvbiByZXR1cm5TaGlwcGluZ09wdGlvbnMocmV0dXJuTWV0aG9kcywgcG9saWN5UmV0dXJuTWV0aG9kcykgewogIHZhciBmcm9tUmV0dXJuTWV0aG9kcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkOwogIHZhciB1cGRhdGVkUmV0dXJuTWV0aG9kcyA9IGZyb21SZXR1cm5NZXRob2RzID8gcmV0dXJuTWV0aG9kcyA6IGZvcm1hdFJldHVybk1ldGhvZHMocG9saWN5UmV0dXJuTWV0aG9kcyk7CiAgcmV0dXJuIHVwZGF0ZWRSZXR1cm5NZXRob2RzLm1hcChmdW5jdGlvbiAocikgewogICAgdmFyIGFjdGlvbiA9IGdldFJldHVybnNIZWxwZXJUZXh0KHIgPT09IG51bGwgfHwgciA9PT0gdm9pZCAwID8gdm9pZCAwIDogci5jdXN0b21lcl9mYWNpbmdfY2Fycmllcik7CiAgICB2YXIgcHJpY2UgPSBnZXRTaGlwcGluZ0FtdChyKTsKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHsKICAgICAgaWQ6IHIuaWQsCiAgICAgIG5hbWU6IHIuY3VzdG9tZXJfZmFjaW5nX2NhcnJpZXIsCiAgICAgIGFkZHJlc3M6IG51bGwsCiAgICAgIGFjdGlvbjogYWN0aW9uLAogICAgICBpc09wZW46IHRydWUsCiAgICAgIGNsb3NpbmdUaW1lOiBudWxsLAogICAgICBkaXN0YW5jZTogbnVsbCwKICAgICAgcHJpY2U6IHByaWNlCiAgICB9LCByKTsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZm9ybWF0UmV0dXJuTWV0aG9kcyhyZXR1cm5NZXRob2RzKSB7CiAgdmFyIG1ldGhvZHMgPSBbXTsKICByZXR1cm5NZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkgewogICAgdmFyIHR5cGUgPSBtZXRob2QudHlwZTsKICAgIHZhciByZXF1aXJlUGFja2FnZUFuZFByaW50ID0gbWV0aG9kLnBhY2thZ2VfYW5kX3ByaW50OwogICAgdmFyIGlzU3VzdGFpbmFibGUgPSBtZXRob2Quc3VzdGFpbmFibGU7CiAgICB2YXIgcmV0dXJuTWV0aG9kUmFuayA9IG1ldGhvZC5yZXR1cm5fbWV0aG9kX3Jhbms7CiAgICB2YXIgZGlzdGFuY2VUaHJlc2hvbGQgPSBtZXRob2QuZGlzdGFuY2VfdGhyZXNob2xkOwogICAgbWV0aG9kLmFmZmlsaWF0ZXMubWFwKGZ1bmN0aW9uIChhZmZpbGlhdGUpIHsKICAgICAgbWV0aG9kcy5wdXNoKF9vYmplY3RTcHJlYWQoewogICAgICAgIGlkOiAiIi5jb25jYXQodHlwZSwgIl8iKS5jb25jYXQoYWZmaWxpYXRlLm5hbWUpLAogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgcmVxdWlyZVBhY2thZ2VBbmRQcmludDogcmVxdWlyZVBhY2thZ2VBbmRQcmludCwKICAgICAgICBpc1N1c3RhaW5hYmxlOiBpc1N1c3RhaW5hYmxlLAogICAgICAgIHJldHVybk1ldGhvZFJhbms6IHJldHVybk1ldGhvZFJhbmssCiAgICAgICAgZGlzdGFuY2VUaHJlc2hvbGQ6IGRpc3RhbmNlVGhyZXNob2xkCiAgICAgIH0sIGFmZmlsaWF0ZSkpOwogICAgfSk7CiAgfSk7CiAgcmV0dXJuIG1ldGhvZHM7Cn0KZXhwb3J0IGZ1bmN0aW9uIHZhbGlkU3RvcmVOYW1lKHN0b3JlTmFtZSwgc3RvcmVUeXBlKSB7CiAgdmFyIHJldHVybk1ldGhvZHMgPSBzdG9yZS5nZXR0ZXJzWydyZXR1cm5zL3BvbGljeVJldHVybk1ldGhvZHMnXTsgLy8gZm9ybWF0IHJldHVybk1ldGhvZHMgaWYgbm90IGFscmVhZHkgZm9ybWF0dGVkCgogIHZhciBmb3JtYXR0ZWRSZXR1cm5NZXRob2RzID0gcmV0dXJuTWV0aG9kcy5sZW5ndGggJiYgcmV0dXJuTWV0aG9kc1swXS5hZmZpbGlhdGVzID8gZm9ybWF0UmV0dXJuTWV0aG9kcyhyZXR1cm5NZXRob2RzKSA6IHJldHVybk1ldGhvZHM7CiAgdmFyIGdyb3VwZWRSZXR1cm5NZXRob2RzID0gZm9ybWF0dGVkUmV0dXJuTWV0aG9kcy5yZWR1Y2UoZnVuY3Rpb24gKHN0b3JhZ2UsIGl0ZW0pIHsKICAgIHZhciBncm91cCA9IGl0ZW0udHlwZTsKICAgIHN0b3JhZ2VbZ3JvdXBdID0gc3RvcmFnZVtncm91cF0gfHwgW107CiAgICBzdG9yYWdlW2dyb3VwXS5wdXNoKGl0ZW0pOwogICAgcmV0dXJuIHN0b3JhZ2U7CiAgfSwge30pOyAvLyBncm91cCBieSB0eXBlCgogIHZhciBzdG9yZU5hbWVzQXJyID0gZ3JvdXBlZFJldHVybk1ldGhvZHNbc3RvcmVUeXBlXSAmJiBncm91cGVkUmV0dXJuTWV0aG9kc1tzdG9yZVR5cGVdLm1hcChmdW5jdGlvbiAodHlwZSkgewogICAgcmV0dXJuIHR5cGUgPT09IG51bGwgfHwgdHlwZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHlwZS5jdXN0b21lcl9mYWNpbmdfY2Fycmllci50b0xvd2VyQ2FzZSgpOwogIH0pOwoKICBpZiAoc3RvcmVOYW1lc0FycikgewogICAgcmV0dXJuIHN0b3JlTmFtZXNBcnIuc29tZShmdW5jdGlvbiAobmFtZSkgewogICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCiAgICAgIGlmIChuYW1lID09PSBDQVJSSUVSUy5TVEFQTEVTKSB7CiAgICAgICAgZm91bmQgPSB3aGl0ZUxpc3RlZFN0YXBsZXNTdG9yZXMuc29tZShmdW5jdGlvbiAoc3RvcmUpIHsKICAgICAgICAgIHJldHVybiBzdG9yZSA9PT0gc3RvcmVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gQ0FSUklFUlMuVVNQUykgewogICAgICAgIGZvdW5kID0gd2hpdGVMaXN0ZWRVU1BTU3RvcmVzLnNvbWUoZnVuY3Rpb24gKHN0b3JlKSB7CiAgICAgICAgICByZXR1cm4gc3RvcmVOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc3RvcmUpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZvdW5kID0gc3RvcmVOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmFtZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmb3VuZDsKICAgIH0pOwogIH0KCiAgcmV0dXJuIHRydWU7Cn0="},{"version":3,"sources":["/Users/naveenmuthyala/Documents/Projects/returns_portal_ui/returns_portal_ui/src/controllers/ReturnMethodsController.js"],"names":["store","whiteListedStaplesStores","whiteListedUSPSStores","CONSTANTS","RETURN_METHODS","CARRIERS","isExchangeOrder","exchangeList","length","isUSPSCarrier","selectedCarrier","customer_facing_carrier","toLowerCase","USPS","isMailBackReturn","carrier","type","MAIL_BACK","getReturnsHelperText","returnType","desc","IN_STORE","EXPRESS_RETURNS","getSelectedReturnMethodDropOffDescription","getShippingAmt","amt","free_shipping","flat_fee","amount","toLocaleString","style","currency","returnShippingOptions","returnMethods","policyReturnMethods","fromReturnMethods","undefined","updatedReturnMethods","formatReturnMethods","map","r","action","price","id","name","address","isOpen","closingTime","distance","methods","forEach","method","requirePackageAndPrint","package_and_print","isSustainable","sustainable","returnMethodRank","return_method_rank","distanceThreshold","distance_threshold","affiliates","affiliate","push","validStoreName","storeName","storeType","getters","formattedReturnMethods","groupedReturnMethods","reduce","storage","item","group","storeNamesArr","some","found","STAPLES","includes"],"mappings":"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","sourcesContent":["import store from '@/store'\nimport { whiteListedStaplesStores, whiteListedUSPSStores, CONSTANTS } from '@/constants'\n\nconst { RETURN_METHODS, CARRIERS } = CONSTANTS\n\nexport function isExchangeOrder (exchangeList) {\n  return exchangeList.length !== 0\n}\n\nexport function isUSPSCarrier (selectedCarrier) {\n  return selectedCarrier?.customer_facing_carrier.toLowerCase() === CARRIERS.USPS\n}\n\nexport function isMailBackReturn (carrier) {\n  return carrier.type.toLowerCase() === RETURN_METHODS.MAIL_BACK\n}\n\nexport function getReturnsHelperText (returnType) {\n  var desc = ''\n\n  if (\n    returnType.type === RETURN_METHODS.IN_STORE ||\n    returnType.type === RETURN_METHODS.EXPRESS_RETURNS\n  ) {\n    desc = 'Drop off at '\n  } else if (returnType.type === RETURN_METHODS.MAIL_BACK) {\n    desc = 'Mail back via '\n  }\n  return desc\n}\n\nexport function getSelectedReturnMethodDropOffDescription (returnType) {\n  var desc = getReturnsHelperText(returnType)\n  desc = desc + returnType.customer_facing_carrier\n\n  return desc\n}\n\nexport function getShippingAmt (carrier) {\n  let amt = ''\n  if (carrier?.free_shipping) {\n    amt = 'Free'\n  } else {\n    amt = carrier?.flat_fee?.amount?.toLocaleString('en-US', { style: 'currency', currency: 'USD' })\n  }\n  return amt\n}\n\nexport function returnShippingOptions (\n  returnMethods,\n  policyReturnMethods,\n  fromReturnMethods = undefined\n) {\n  var updatedReturnMethods = fromReturnMethods\n    ? returnMethods\n    : formatReturnMethods(policyReturnMethods)\n  return updatedReturnMethods.map((r) => {\n    const action = getReturnsHelperText(r?.customer_facing_carrier)\n    const price = getShippingAmt(r)\n\n    return {\n      id: r.id,\n      name: r.customer_facing_carrier,\n      address: null,\n      action,\n      isOpen: true,\n      closingTime: null,\n      distance: null,\n      price,\n      ...r\n    }\n  })\n}\n\nexport function formatReturnMethods (returnMethods) {\n  const methods = []\n  returnMethods.forEach((method) => {\n    const type = method.type\n    const requirePackageAndPrint = method.package_and_print\n    const isSustainable = method.sustainable\n    const returnMethodRank = method.return_method_rank\n    const distanceThreshold = method.distance_threshold\n\n    method.affiliates.map((affiliate) => {\n      methods.push({\n        id: `${type}_${affiliate.name}`,\n        type,\n        requirePackageAndPrint,\n        isSustainable,\n        returnMethodRank,\n        distanceThreshold,\n        ...affiliate\n      })\n    })\n  })\n  return methods\n}\n\nexport function validStoreName (storeName, storeType) {\n  const returnMethods = store.getters['returns/policyReturnMethods']\n  // format returnMethods if not already formatted\n  const formattedReturnMethods =\n    returnMethods.length && returnMethods[0].affiliates\n      ? formatReturnMethods(returnMethods)\n      : returnMethods\n  const groupedReturnMethods = formattedReturnMethods.reduce(function (\n    storage,\n    item\n  ) {\n    var group = item.type\n    storage[group] = storage[group] || []\n    storage[group].push(item)\n    return storage\n  },\n  {}) // group by type\n\n  const storeNamesArr =\n    groupedReturnMethods[storeType] &&\n    groupedReturnMethods[storeType].map((type) =>\n      type?.customer_facing_carrier.toLowerCase()\n    )\n  if (storeNamesArr) {\n    return storeNamesArr.some((name) => {\n      var found = false\n      if (name === CARRIERS.STAPLES) {\n        found = whiteListedStaplesStores.some(\n          (store) => store === storeName.toLowerCase()\n        )\n      } else if (name === CARRIERS.USPS) {\n        found = whiteListedUSPSStores.some((store) => {\n          return storeName.toLowerCase().includes(store)\n        })\n      } else {\n        found = storeName.toLowerCase().includes(name)\n      }\n      return found\n    })\n  }\n  return true\n}\n"]}]}